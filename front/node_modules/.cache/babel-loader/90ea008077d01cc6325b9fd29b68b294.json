{"ast":null,"code":"import _createClass from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _classCallCheck from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nvar _jsxFileName = \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/src/GenerationHanlder.tsx\";\nimport React from 'react';\nimport './popup.scss';\nimport axios from 'axios';\nimport { PopupExample } from './PopupExample';\n\nvar Props = function Props() {\n  _classCallCheck(this, Props);\n\n  this.isOpen = void 0;\n  this.serializeDiagram = void 0;\n};\n\nvar State = function State() {\n  _classCallCheck(this, State);\n\n  this.sqlString = void 0;\n};\n\nexport var GenerationHandler =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(GenerationHandler, _React$Component);\n\n  function GenerationHandler() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, GenerationHandler);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(GenerationHandler)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.generateScript = function (name) {\n      var x = JSON.stringify(_this.props.serializeDiagram, null, 2);\n      var res = axios.post('http://localhost:5000/api/setjob', {\n        SerializedDiagram: x,\n        DatabaseName: name\n      }).then(function (response) {\n        _this.setState({\n          sqlString: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(GenerationHandler, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(PopupExample, {\n        sqlString: this.state.sqlString,\n        generateScript: function generateScript(name) {\n          return _this2.generateScript(name);\n        },\n        isOpen: this.props.isOpen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return GenerationHandler;\n}(React.Component);","map":{"version":3,"sources":["/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/src/GenerationHanlder.tsx"],"names":["React","axios","PopupExample","Props","isOpen","serializeDiagram","State","sqlString","GenerationHandler","generateScript","name","x","JSON","stringify","props","res","post","SerializedDiagram","DatabaseName","then","response","setState","data","catch","error","console","log","state","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAgC,OAAhC;AAGA,OAAO,cAAP;AACA,OAAOC,KAAP,MAAqC,OAArC;AACA,SAASC,YAAT,QAA6B,gBAA7B;;IAEMC,K;;;OACJC,M;OACAC,gB;;;IAGIC,K;;;OACFC,S;;;AAGJ,WAAaC,iBAAb;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA,UACGC,cADH,GACoB,UAACC,IAAD,EAAkB;AAClC,UAAIC,CAAC,GAAGC,IAAI,CAACC,SAAL,CAAe,MAAKC,KAAL,CAAWT,gBAA1B,EAA4C,IAA5C,EAAkD,CAAlD,CAAR;AACA,UAAIU,GAAG,GAAGd,KAAK,CAACe,IAAN,CAAW,kCAAX,EAA+C;AAAEC,QAAAA,iBAAiB,EAAEN,CAArB;AAAwBO,QAAAA,YAAY,EAAER;AAAtC,OAA/C,EACPS,IADO,CACF,UAACC,QAAD,EAAc;AAChB,cAAKC,QAAL,CAAc;AAACd,UAAAA,SAAS,EAAEa,QAAQ,CAACE;AAArB,SAAd;AACH,OAHO,EAIPC,KAJO,CAID,UAAUC,KAAV,EAAiB;AACtBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OANO,CAAV;AAOA,KAVJ;;AAAA;AAAA;;AAAA;AAAA;AAAA,6BAWa;AAAA;;AAEL,aACI,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAE,KAAKG,KAAL,CAAWpB,SAApC;AAA+C,QAAA,cAAc,EAAE,wBAACG,IAAD;AAAA,iBAAU,MAAI,CAACD,cAAL,CAAoBC,IAApB,CAAV;AAAA,SAA/D;AAAoG,QAAA,MAAM,EAAE,KAAKI,KAAL,CAAWV,MAAvH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAGH;AAhBL;;AAAA;AAAA,EAAuCJ,KAAK,CAAC4B,SAA7C","sourcesContent":["import React, { useState } from 'react'\nimport Popup from 'reactjs-popup'\nimport sqlFormatter from \"sql-formatter\";\nimport './popup.scss';\nimport axios, { AxiosResponse } from 'axios';\nimport { PopupExample } from './PopupExample';\n\nclass Props {\n  isOpen: boolean;\n  serializeDiagram: any;\n}\n\nclass State {\n    sqlString: string;\n}\n\nexport class GenerationHandler extends React.Component<Props, State> {\n   generateScript = (name: string) => {\n    let x = JSON.stringify(this.props.serializeDiagram, null, 2);\n    let res = axios.post('http://localhost:5000/api/setjob', { SerializedDiagram: x, DatabaseName: name })\n      .then((response) => {\n          this.setState({sqlString: response.data})\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n   }\n    render() {\n        \n        return(\n            <PopupExample sqlString={this.state.sqlString} generateScript={(name) => this.generateScript(name)} isOpen={this.props.isOpen} />\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}