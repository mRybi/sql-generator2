{"ast":null,"code":"import _classCallCheck from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/src/components/widgets/CustomNodeWidget.tsx\";\nimport { CustomPortLabelWidget } from \"./CustomPortLabelWidget\";\nimport React from \"react\";\nimport { BaseWidget } from \"storm-react-diagrams\";\nimport * as _ from \"lodash\";\n\n/**\n * @author Dylan Vorster\n */\nexport var CustomNodeWidget =\n/*#__PURE__*/\nfunction (_BaseWidget) {\n  _inherits(CustomNodeWidget, _BaseWidget);\n\n  function CustomNodeWidget(props) {\n    var _this;\n\n    _classCallCheck(this, CustomNodeWidget);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CustomNodeWidget).call(this, \"srd-default-node\", props));\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(CustomNodeWidget, [{\n    key: \"generatePort\",\n    value: function generatePort(port) {\n      return React.createElement(CustomPortLabelWidget, {\n        model: port,\n        key: port.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var ports = this.props.node.getPorts();\n      console.log('QQQQ', ports, this.props.node);\n      Object.keys(ports).map(function (p) {\n        return ports[p].isPrimaryKey || ports[p].isForeignKey && ports[p];\n      });\n      return React.createElement(\"div\", Object.assign({}, this.getProps(), {\n        style: {\n          background: this.props.node.color\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: this.bem(\"__title\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: this.bem(\"__name\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, this.props.node.name)), React.createElement(\"div\", {\n        className: this.bem(\"__ports\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: this.bem(\"__in\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, _.map(this.props.node.getPorts(), this.generatePort.bind(this)))));\n    }\n  }]);\n\n  return CustomNodeWidget;\n}(BaseWidget);","map":{"version":3,"sources":["/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/src/components/widgets/CustomNodeWidget.tsx"],"names":["CustomPortLabelWidget","React","BaseWidget","_","CustomNodeWidget","props","state","port","id","ports","node","getPorts","console","log","Object","keys","map","p","isPrimaryKey","isForeignKey","getProps","background","color","bem","name","generatePort","bind"],"mappings":";;;;;;AAAA,SAASA,qBAAT,QAAsC,yBAAtC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2D,sBAA3D;AAGA,OAAO,KAAKC,CAAZ,MAAmB,QAAnB;;AASA;;;AAGA,WAAaC,gBAAb;AAAA;AAAA;AAAA;;AACC,4BAAYC,KAAZ,EAAqC;AAAA;;AAAA;;AACpC,0FAAM,kBAAN,EAA0BA,KAA1B;AACA,UAAKC,KAAL,GAAa,EAAb;AAFoC;AAGpC;;AAJF;AAAA;AAAA,iCAMcC,IANd,EAM0B;AACxB,aAAO,oBAAC,qBAAD;AAAuB,QAAA,KAAK,EAAEA,IAA9B;AAAoC,QAAA,GAAG,EAAEA,IAAI,CAACC,EAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACA;AARF;AAAA;AAAA,6BAUU;AACR,UAAIC,KAAK,GAAG,KAAKJ,KAAL,CAAWK,IAAX,CAAgBC,QAAhB,EAAZ;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBJ,KAApB,EAA2B,KAAKJ,KAAL,CAAWK,IAAtC;AACAI,MAAAA,MAAM,CAACC,IAAP,CAAYN,KAAZ,EAAmBO,GAAnB,CAAuB,UAAAC,CAAC,EAAI;AAC3B,eAAOR,KAAK,CAACQ,CAAD,CAAL,CAASC,YAAT,IAAyBT,KAAK,CAACQ,CAAD,CAAL,CAASE,YAAT,IAAyBV,KAAK,CAACQ,CAAD,CAA9D;AACA,OAFD;AAGA,aACC,6CAAS,KAAKG,QAAL,EAAT;AAA0B,QAAA,KAAK,EAAE;AAAEC,UAAAA,UAAU,EAAE,KAAKhB,KAAL,CAAWK,IAAX,CAAgBY;AAA9B,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UACC;AAAK,QAAA,SAAS,EAAE,KAAKC,GAAL,CAAS,SAAT,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,SAAS,EAAE,KAAKA,GAAL,CAAS,QAAT,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAqC,KAAKlB,KAAL,CAAWK,IAAX,CAAgBc,IAArD,CADD,CADD,EAIC;AAAK,QAAA,SAAS,EAAE,KAAKD,GAAL,CAAS,SAAT,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,SAAS,EAAE,KAAKA,GAAL,CAAS,MAAT,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACEpB,CAAC,CAACa,GAAF,CAAM,KAAKX,KAAL,CAAWK,IAAX,CAAgBC,QAAhB,EAAN,EAAkC,KAAKc,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAAlC,CADF,CADD,CAJD,CADD;AAYA;AA5BF;;AAAA;AAAA,EAAsCxB,UAAtC","sourcesContent":["import { CustomPortLabelWidget } from \"./CustomPortLabelWidget\";\nimport React from \"react\";\nimport { BaseWidget, DiagramEngine, BaseWidgetProps } from \"storm-react-diagrams\";\nimport { Port } from \"../models/Port\";\nimport { Node } from \"../models/Node\";\nimport * as _ from \"lodash\";\n\nexport interface DefaultNodeProps extends BaseWidgetProps {\n\tnode: Node;\n\tdiagramEngine: DiagramEngine;\n}\n\nexport interface DefaultNodeState {}\n\n/**\n * @author Dylan Vorster\n */\nexport class CustomNodeWidget extends BaseWidget<DefaultNodeProps, DefaultNodeState> {\n\tconstructor(props: DefaultNodeProps) {\n\t\tsuper(\"srd-default-node\", props);\n\t\tthis.state = {};\n\t}\n\n\tgeneratePort(port: Port) {\n\t\treturn <CustomPortLabelWidget model={port} key={port.id} />;\n\t}\n\n\trender() {\n\t\tlet ports = this.props.node.getPorts() as { [s: string]: Port };\n\t\tconsole.log('QQQQ', ports, this.props.node);\n\t\tObject.keys(ports).map(p => {\n\t\t\treturn ports[p].isPrimaryKey || ports[p].isForeignKey && ports[p];\n\t\t})\n\t\treturn (\n\t\t\t<div {...this.getProps()} style={{ background: this.props.node.color }}>\n\t\t\t\t<div className={this.bem(\"__title\")}>\n\t\t\t\t\t<div className={this.bem(\"__name\")}>{this.props.node.name}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={this.bem(\"__ports\")}>\n\t\t\t\t\t<div className={this.bem(\"__in\")}>\n\t\t\t\t\t\t{_.map(this.props.node.getPorts(), this.generatePort.bind(this))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}"]},"metadata":{},"sourceType":"module"}