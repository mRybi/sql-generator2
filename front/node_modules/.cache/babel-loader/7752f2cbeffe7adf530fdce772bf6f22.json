{"ast":null,"code":"import _createClass from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _classCallCheck from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nvar _jsxFileName = \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/src/handlers/GenerationHandler.tsx\";\nimport { ResultPopup } from '../components/popups/ResultPopup/ResultPopup';\nimport React from 'react';\nimport axios from 'axios';\n\nvar Props = function Props() {\n  _classCallCheck(this, Props);\n\n  this.isOpen = void 0;\n  this.serializeDiagram = void 0;\n};\n\nvar State = function State() {\n  _classCallCheck(this, State);\n\n  this.sqlString = void 0;\n};\n\nexport var GenerationHandler =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(GenerationHandler, _React$Component);\n\n  function GenerationHandler(props) {\n    var _this;\n\n    _classCallCheck(this, GenerationHandler);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(GenerationHandler).call(this, props));\n\n    _this.generateScript = function (name) {\n      var diagram = JSON.stringify(_this.props.serializeDiagram, null, 2);\n      console.log('QQQQdiag', diagram, _this.props.serializeDiagram);\n      axios.post('http://localhost:5000/api/setjob', {\n        SerializedDiagram: diagram,\n        DatabaseName: name\n      }).then(function (response) {\n        _this.setState({\n          sqlString: response.data\n        });\n\n        _this.forceUpdate();\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.state = {\n      sqlString: ''\n    };\n    return _this;\n  }\n\n  _createClass(GenerationHandler, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(ResultPopup, {\n        sqlString: this.state.sqlString,\n        generateScript: function generateScript(name) {\n          return _this2.generateScript(name);\n        },\n        isOpen: this.props.isOpen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return GenerationHandler;\n}(React.Component);","map":{"version":3,"sources":["/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/src/handlers/GenerationHandler.tsx"],"names":["ResultPopup","React","axios","Props","isOpen","serializeDiagram","State","sqlString","GenerationHandler","props","generateScript","name","diagram","JSON","stringify","console","log","post","SerializedDiagram","DatabaseName","then","response","setState","data","forceUpdate","catch","error","state","Component"],"mappings":";;;;;;AAAA,SAASA,WAAT,QAA4B,8CAA5B;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;IAEMC,K;;;OACJC,M;OACAC,gB;;;IAGIC,K;;;OACJC,S;;;AAGF,WAAaC,iBAAb;AAAA;AAAA;AAAA;;AACE,6BAAYC,KAAZ,EAA0B;AAAA;;AAAA;;AACxB,2FAAMA,KAAN;;AADwB,UAK1BC,cAL0B,GAKT,UAACC,IAAD,EAAkB;AACjC,UAAIC,OAAO,GAAGC,IAAI,CAACC,SAAL,CAAe,MAAKL,KAAL,CAAWJ,gBAA1B,EAA4C,IAA5C,EAAkD,CAAlD,CAAd;AACAU,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBJ,OAAxB,EAAiC,MAAKH,KAAL,CAAWJ,gBAA5C;AACAH,MAAAA,KAAK,CAACe,IAAN,CAAW,kCAAX,EAA+C;AAAEC,QAAAA,iBAAiB,EAAEN,OAArB;AAA8BO,QAAAA,YAAY,EAAER;AAA5C,OAA/C,EACGS,IADH,CACQ,UAACC,QAAD,EAAc;AAClB,cAAKC,QAAL,CAAc;AAAEf,UAAAA,SAAS,EAAEc,QAAQ,CAACE;AAAtB,SAAd;;AACA,cAAKC,WAAL;AACD,OAJH,EAKGC,KALH,CAKS,UAAUC,KAAV,EAAiB;AACtBX,QAAAA,OAAO,CAACC,GAAR,CAAYU,KAAZ;AACD,OAPH;AAQD,KAhByB;;AAExB,UAAKC,KAAL,GAAa;AAAEpB,MAAAA,SAAS,EAAE;AAAb,KAAb;AAFwB;AAGzB;;AAJH;AAAA;AAAA,6BAmBW;AAAA;;AACP,aACE,oBAAC,WAAD;AAAa,QAAA,SAAS,EAAE,KAAKoB,KAAL,CAAWpB,SAAnC;AAA8C,QAAA,cAAc,EAAE,wBAACI,IAAD;AAAA,iBAAU,MAAI,CAACD,cAAL,CAAoBC,IAApB,CAAV;AAAA,SAA9D;AAAmG,QAAA,MAAM,EAAE,KAAKF,KAAL,CAAWL,MAAtH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAGD;AAvBH;;AAAA;AAAA,EAAuCH,KAAK,CAAC2B,SAA7C","sourcesContent":["import { ResultPopup } from '../components/popups/ResultPopup/ResultPopup';\n\nimport React from 'react'\nimport axios from 'axios';\n\nclass Props {\n  isOpen: boolean;\n  serializeDiagram: any;\n}\n\nclass State {\n  sqlString: string;\n}\n\nexport class GenerationHandler extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { sqlString: '' }\n  }\n  \n  generateScript = (name: string) => {\n    let diagram = JSON.stringify(this.props.serializeDiagram, null, 2);\n    console.log('QQQQdiag', diagram, this.props.serializeDiagram);\n    axios.post('http://localhost:5000/api/setjob', { SerializedDiagram: diagram, DatabaseName: name })\n      .then((response) => {\n        this.setState({ sqlString: response.data });\n        this.forceUpdate();\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n\n  render() {\n    return (\n      <ResultPopup sqlString={this.state.sqlString} generateScript={(name) => this.generateScript(name)} isOpen={this.props.isOpen} />\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}