{"ast":null,"code":"import _classCallCheck from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _get from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport * as _ from \"lodash\";\nimport { PortModel } from \"storm-react-diagrams\";\nimport { Link } from \"./Link\";\nimport { PropertyType } from \"./PropertyType\";\nexport var Port =\n/*#__PURE__*/\nfunction (_PortModel) {\n  _inherits(Port, _PortModel);\n\n  function Port(isIn, isNotNull, isAutoincremented, isUnique, isPrimaryKey, isForeignKey, label, propertyType, id) {\n    var _this;\n\n    _classCallCheck(this, Port);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Port).call(this, name, \"default\", id));\n    _this.isPrimaryKey = void 0;\n    _this.isForeignKey = void 0;\n    _this.in = void 0;\n    _this.isAutoincremented = void 0;\n    _this.isNotNull = void 0;\n    _this.isUnique = void 0;\n    _this.label = void 0;\n    _this.propertyType = void 0;\n    _this.links = void 0;\n    _this.label = label || name;\n    _this.links = {};\n    _this.propertyType = propertyType;\n    _this.in = isIn;\n    _this.isAutoincremented = isAutoincremented;\n    _this.isNotNull = isNotNull;\n    _this.isUnique = isUnique;\n    _this.isForeignKey = isForeignKey;\n    _this.isPrimaryKey = isPrimaryKey;\n    return _this;\n  }\n\n  _createClass(Port, [{\n    key: \"deSerialize\",\n    value: function deSerialize(object, engine) {\n      _get(_getPrototypeOf(Port.prototype), \"deSerialize\", this).call(this, object, engine);\n\n      this.label = object.label;\n      this.links = object.links;\n      this.propertyType = object.propertyType;\n      this.isAutoincremented = object.isAutoincremented;\n      this.isNotNull = object.isNotNull;\n      this.isUnique = object.isUnique;\n      this.isForeignKey = object.isForeignKey;\n      this.isPrimaryKey = object.isPrimaryKey;\n    }\n  }, {\n    key: \"serialize\",\n    value: function serialize() {\n      return _.merge(_get(_getPrototypeOf(Port.prototype), \"serialize\", this).call(this), {\n        label: this.label,\n        propertyType: PropertyType[this.propertyType],\n        links: this.links,\n        isAutoincremented: this.isAutoincremented,\n        isNotNull: this.isNotNull,\n        isUnique: this.isUnique,\n        isForeignKey: this.isForeignKey,\n        isPrimaryKey: this.isPrimaryKey\n      });\n    }\n  }, {\n    key: \"initialLink\",\n    value: function initialLink(node) {\n      var link = this.createLinkModel();\n      var port2 = node.addInPort(true, true, true, false, true, \"xdId\", PropertyType.INT);\n      link.setSourcePort(this);\n      link.setTargetPort(port2);\n      return link;\n    }\n  }, {\n    key: \"link\",\n    value: function link(port) {\n      var link = this.createLinkModel();\n      link.setSourcePort(this);\n      link.setTargetPort(port);\n      return link;\n    }\n  }, {\n    key: \"canLinkToPort\",\n    value: function canLinkToPort(port) {\n      // if (port instanceof Port) {\n      // \treturn this.in !== port.in;\n      // }\n      return true;\n    }\n  }, {\n    key: \"createLinkModel\",\n    value: function createLinkModel() {\n      var link = _get(_getPrototypeOf(Port.prototype), \"createLinkModel\", this).call(this);\n\n      return link || new Link();\n    }\n  }]);\n\n  return Port;\n}(PortModel);","map":{"version":3,"sources":["/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/src/components/models/Port.ts"],"names":["_","PortModel","Link","PropertyType","Port","isIn","isNotNull","isAutoincremented","isUnique","isPrimaryKey","isForeignKey","label","propertyType","id","name","in","links","object","engine","merge","node","link","createLinkModel","port2","addInPort","INT","setSourcePort","setTargetPort","port"],"mappings":"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","sourcesContent":["import * as _ from \"lodash\";\nimport { PortModel, DiagramEngine, LinkModel } from \"storm-react-diagrams\";\nimport { Link } from \"./Link\";\nimport { Node } from \"./Node\";\nimport { PropertyType } from \"./PropertyType\";\nimport { RelationType } from \"../../AppView\";\n\n\nexport class Port extends PortModel {\n\tisPrimaryKey: boolean;\n\tisForeignKey: boolean;\nin: boolean;\n\tisAutoincremented: boolean;\n\tisNotNull: boolean;\n\tisUnique: boolean;\n\n\tlabel: string;\n\tpropertyType: PropertyType;\n\tlinks: { [id: string]: Link };\n\n\tconstructor(isIn: boolean, isNotNull: boolean, isAutoincremented: boolean, isUnique: boolean, isPrimaryKey: boolean, isForeignKey: boolean, label?: string, propertyType?: PropertyType, id?: string) {\n\t\tsuper(name, \"default\", id);\n\t\tthis.label = label || name;\n\t\tthis.links = {};\n\t\tthis.propertyType = propertyType;\nthis.in = isIn;\n\t\tthis.isAutoincremented = isAutoincremented;\n\t\tthis.isNotNull = isNotNull;\n\t\tthis.isUnique = isUnique;\n\t\tthis.isForeignKey = isForeignKey;\n\t\tthis.isPrimaryKey = isPrimaryKey;\n\t}\n\n\tdeSerialize(object: any, engine: DiagramEngine) {\n\t\tsuper.deSerialize(object, engine);\n\t\tthis.label = object.label;\n\n\t\tthis.links = object.links;\n\t\tthis.propertyType = object.propertyType;\n\n\t\tthis.isAutoincremented = object.isAutoincremented;\n\t\tthis.isNotNull = object.isNotNull;\n\t\tthis.isUnique = object.isUnique;\n\t\tthis.isForeignKey = object.isForeignKey;\n\t\tthis.isPrimaryKey = object.isPrimaryKey;\n\t}\n\n\tserialize() {\n\t\treturn _.merge(super.serialize(), {\n\t\t\tlabel: this.label,\n\t\t\tpropertyType: PropertyType[this.propertyType],\n\t\t\tlinks: this.links,\n\t\t\tisAutoincremented: this.isAutoincremented,\n\t\t\tisNotNull: this.isNotNull,\n\t\t\tisUnique: this.isUnique,\n\t\t\tisForeignKey: this.isForeignKey,\n\t\t\tisPrimaryKey: this.isPrimaryKey\n\t\t});\n\t}\n\n\tinitialLink(node: Node) {\n\t\tlet link = this.createLinkModel();\n\t\tlet port2 = node.addInPort(true, true, true, false, true, \"xdId\", PropertyType.INT);\n\t\tlink.setSourcePort(this);\n\t\tlink.setTargetPort(port2);\n\t\treturn link;\n\t}\n\n\tlink(port: PortModel): LinkModel {\n\t\tlet link = this.createLinkModel();\n\t\tlink.setSourcePort(this);\n\t\tlink.setTargetPort(port);\n\t\treturn link;\n\t}\n\n\tcanLinkToPort(port: PortModel): boolean {\n\t\t// if (port instanceof Port) {\n\t\t// \treturn this.in !== port.in;\n\t\t// }\n\t\treturn true;\n\t}\n\n\tcreateLinkModel(): LinkModel {\n\t\tlet link = super.createLinkModel();\n\t\treturn link || new Link();\n\t}\n}"]},"metadata":{},"sourceType":"module"}