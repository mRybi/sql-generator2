{"ast":null,"code":"import _classCallCheck from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _get from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport * as _ from \"lodash\";\nimport { Link } from \"./Link\";\nimport { PortModel } from \"storm-react-diagrams\";\nimport { PropertyType } from \"./PropertyType\";\nimport { Label } from \"./Label\";\nexport var Port =\n/*#__PURE__*/\nfunction (_PortModel) {\n  _inherits(Port, _PortModel);\n\n  function Port(isInput, name, isPrimaryKey, isForeignKey, propertyType, id) {\n    var _this;\n\n    _classCallCheck(this, Port);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Port).call(this, name, \"custom\", id));\n    _this.in = void 0;\n    _this.label = void 0;\n    _this.links = void 0;\n    _this.isPrimaryKey = void 0;\n    _this.isForeignKey = void 0;\n    _this.propertyType = void 0;\n    _this.in = isInput;\n    _this.label = name;\n    _this.links = {};\n    _this.isPrimaryKey = isPrimaryKey;\n    _this.isForeignKey = isForeignKey;\n    _this.propertyType = propertyType;\n    return _this;\n  }\n\n  _createClass(Port, [{\n    key: \"deSerialize\",\n    value: function deSerialize(object, engine) {\n      _get(_getPrototypeOf(Port.prototype), \"deSerialize\", this).call(this, object, engine);\n\n      this.in = object.in;\n      this.label = object.label;\n    }\n  }, {\n    key: \"serialize\",\n    value: function serialize() {\n      return _.merge(_get(_getPrototypeOf(Port.prototype), \"serialize\", this).call(this), {\n        in: this.in,\n        label: this.label\n      });\n    }\n  }, {\n    key: \"link\",\n    value: function link(port) {\n      var link = this.createLinkModel();\n      link.setSourcePort(this);\n      var node = port.getParent();\n      var targetPort = node.addInPort(this.getParent().name + 'Id', false, true, PropertyType.INT);\n      link.setTargetPort(targetPort);\n      link.addLabel(new Label('JEBAC WAS'));\n      return link;\n    } // linkNode(node: Node): LinkModel {\n    // \tlet link = this.createLinkModel();\n    // \tlink.setSourcePort(this);\n    // \tlet targetPort = node.addInPort((this.getParent() as Node).name + 'Id', false, true, PropertyType.INT);\n    // \tlink.setTargetPort(targetPort);\n    // \treturn link;\n    // }\n\n  }, {\n    key: \"canLinkToPort\",\n    value: function canLinkToPort(port) {\n      // if (port instanceof PortModel) {\n      // \treturn this.in !== port.in;\n      // }\n      this.link(port);\n      return true;\n    }\n  }, {\n    key: \"createLinkModel\",\n    value: function createLinkModel() {\n      var link = _get(_getPrototypeOf(Port.prototype), \"createLinkModel\", this).call(this);\n\n      return link || new Link();\n    }\n  }]);\n\n  return Port;\n}(PortModel);","map":{"version":3,"sources":["/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/src/components/models/Port.ts"],"names":["_","Link","PortModel","PropertyType","Label","Port","isInput","name","isPrimaryKey","isForeignKey","propertyType","id","in","label","links","object","engine","merge","port","link","createLinkModel","setSourcePort","node","getParent","targetPort","addInPort","INT","setTargetPort","addLabel"],"mappings":";;;;;;AAAA,OAAO,KAAKA,CAAZ,MAAmB,QAAnB;AACA,SAASC,IAAT,QAAqB,QAArB;AAEA,SAASC,SAAT,QAAoD,sBAApD;AACA,SAASC,YAAT,QAA6B,gBAA7B;AACA,SAASC,KAAT,QAAsB,SAAtB;AAEA,WAAaC,IAAb;AAAA;AAAA;AAAA;;AAUC,gBAAYC,OAAZ,EAA8BC,IAA9B,EAA4CC,YAA5C,EAAoEC,YAApE,EAA4FC,YAA5F,EAAyHC,EAAzH,EAAsI;AAAA;;AAAA;;AACrI,8EAAMJ,IAAN,EAAY,QAAZ,EAAsBI,EAAtB;AADqI,UATtIC,EASsI;AAAA,UARtIC,KAQsI;AAAA,UAPtIC,KAOsI;AAAA,UAJtIN,YAIsI;AAAA,UAHtIC,YAGsI;AAAA,UAFtIC,YAEsI;AAErI,UAAKE,EAAL,GAAUN,OAAV;AACA,UAAKO,KAAL,GAAaN,IAAb;AACA,UAAKO,KAAL,GAAa,EAAb;AAEA,UAAKN,YAAL,GAAoBA,YAApB;AACA,UAAKC,YAAL,GAAoBA,YAApB;AACA,UAAKC,YAAL,GAAoBA,YAApB;AARqI;AASrI;;AAnBF;AAAA;AAAA,gCAqBaK,MArBb,EAqB0BC,MArB1B,EAqBiD;AAC/C,4EAAkBD,MAAlB,EAA0BC,MAA1B;;AACA,WAAKJ,EAAL,GAAUG,MAAM,CAACH,EAAjB;AACA,WAAKC,KAAL,GAAaE,MAAM,CAACF,KAApB;AACA;AAzBF;AAAA;AAAA,gCA2Ba;AACX,aAAOb,CAAC,CAACiB,KAAF,sEAA2B;AACjCL,QAAAA,EAAE,EAAE,KAAKA,EADwB;AAEjCC,QAAAA,KAAK,EAAE,KAAKA;AAFqB,OAA3B,CAAP;AAIA;AAhCF;AAAA;AAAA,yBAkCMK,IAlCN,EAkCkC;AAChC,UAAIC,IAAI,GAAG,KAAKC,eAAL,EAAX;AACAD,MAAAA,IAAI,CAACE,aAAL,CAAmB,IAAnB;AACA,UAAIC,IAAI,GAAGJ,IAAI,CAACK,SAAL,EAAX;AACA,UAAIC,UAAU,GAAGF,IAAI,CAACG,SAAL,CAAgB,KAAKF,SAAL,EAAD,CAA2BhB,IAA3B,GAAkC,IAAjD,EAAuD,KAAvD,EAA8D,IAA9D,EAAoEJ,YAAY,CAACuB,GAAjF,CAAjB;AAEAP,MAAAA,IAAI,CAACQ,aAAL,CAAmBH,UAAnB;AACAL,MAAAA,IAAI,CAACS,QAAL,CAAc,IAAIxB,KAAJ,CAAU,WAAV,CAAd;AACA,aAAOe,IAAP;AACA,KA3CF,CA6CC;AACA;AACA;AACA;AACA;AACA;AACA;;AAnDD;AAAA;AAAA,kCAqDeD,IArDf,EAqDyC;AACvC;AACA;AACA;AACA,WAAKC,IAAL,CAAUD,IAAV;AACA,aAAO,IAAP;AACA;AA3DF;AAAA;AAAA,sCA6D8B;AAC5B,UAAIC,IAAI,4EAAR;;AACA,aAAOA,IAAI,IAAI,IAAIlB,IAAJ,EAAf;AACA;AAhEF;;AAAA;AAAA,EAA0BC,SAA1B","sourcesContent":["import * as _ from \"lodash\";\nimport { Link } from \"./Link\";\nimport { Node } from \"./Node\";\nimport { PortModel, DiagramEngine, LinkModel } from \"storm-react-diagrams\";\nimport { PropertyType } from \"./PropertyType\";\nimport { Label } from \"./Label\";\n\nexport class Port extends PortModel {\n\tin: boolean;\n\tlabel: string;\n\tlinks: { [id: string]: Link };\n\n\n\tisPrimaryKey: boolean;\n\tisForeignKey: boolean;\n\tpropertyType: PropertyType;\n\n\tconstructor(isInput: boolean, name: string, isPrimaryKey?: boolean, isForeignKey?: boolean, propertyType?: PropertyType, id?: string) {\n\t\tsuper(name, \"custom\", id);\n\t\tthis.in = isInput;\n\t\tthis.label = name;\n\t\tthis.links = {};\n\n\t\tthis.isPrimaryKey = isPrimaryKey;\n\t\tthis.isForeignKey = isForeignKey;\n\t\tthis.propertyType = propertyType;\n\t}\n\n\tdeSerialize(object: any, engine: DiagramEngine) {\n\t\tsuper.deSerialize(object, engine);\n\t\tthis.in = object.in;\n\t\tthis.label = object.label;\n\t}\n\n\tserialize() {\n\t\treturn _.merge(super.serialize(), {\n\t\t\tin: this.in,\n\t\t\tlabel: this.label\n\t\t});\n\t}\n\n\tlink(port: PortModel): LinkModel {\n\t\tlet link = this.createLinkModel();\n\t\tlink.setSourcePort(this);\n\t\tlet node = port.getParent() as Node;\n\t\tlet targetPort = node.addInPort((this.getParent() as Node).name + 'Id', false, true, PropertyType.INT);\n\n\t\tlink.setTargetPort(targetPort);\n\t\tlink.addLabel(new Label('JEBAC WAS'));\n\t\treturn link;\n\t}\n\n\t// linkNode(node: Node): LinkModel {\n\t// \tlet link = this.createLinkModel();\n\t// \tlink.setSourcePort(this);\n\t// \tlet targetPort = node.addInPort((this.getParent() as Node).name + 'Id', false, true, PropertyType.INT);\n\t// \tlink.setTargetPort(targetPort);\n\t// \treturn link;\n\t// }\n\n\tcanLinkToPort(port: PortModel): boolean {\n\t\t// if (port instanceof PortModel) {\n\t\t// \treturn this.in !== port.in;\n\t\t// }\n\t\tthis.link(port);\n\t\treturn true;\n\t}\n\n\tcreateLinkModel(): LinkModel {\n\t\tlet link = super.createLinkModel();\n\t\treturn link || new Link();\n\t}\n}"]},"metadata":{},"sourceType":"module"}