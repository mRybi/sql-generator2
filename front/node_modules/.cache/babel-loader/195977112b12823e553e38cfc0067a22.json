{"ast":null,"code":"import _createClass from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _classCallCheck from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nvar _jsxFileName = \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/src/GenerationHandler.tsx\";\nimport './popup.scss';\nimport { PopupExample } from './PopupExample';\nimport React from 'react';\nimport axios from 'axios';\n\nvar Props = function Props() {\n  _classCallCheck(this, Props);\n\n  this.isOpen = void 0;\n  this.serializeDiagram = void 0;\n};\n\nvar State = function State() {\n  _classCallCheck(this, State);\n\n  this.sqlString = void 0;\n};\n\nexport var GenerationHandler =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(GenerationHandler, _React$Component);\n\n  function GenerationHandler(props) {\n    var _this;\n\n    _classCallCheck(this, GenerationHandler);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(GenerationHandler).call(this, props));\n\n    _this.generateScript = function (name) {\n      var x = JSON.stringify(_this.props.serializeDiagram, null, 2);\n      axios.post('http://localhost:5000/api/setjob', {\n        SerializedDiagram: x,\n        DatabaseName: name\n      }).then(function (response) {\n        _this.setState({\n          sqlString: response.data\n        });\n\n        _this.forceUpdate();\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.state = {\n      sqlString: ''\n    };\n    return _this;\n  }\n\n  _createClass(GenerationHandler, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(PopupExample, {\n        sqlString: this.state.sqlString,\n        generateScript: function generateScript(name) {\n          return _this2.generateScript(name);\n        },\n        isOpen: this.props.isOpen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return GenerationHandler;\n}(React.Component);","map":{"version":3,"sources":["/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/src/GenerationHandler.tsx"],"names":["PopupExample","React","axios","Props","isOpen","serializeDiagram","State","sqlString","GenerationHandler","props","generateScript","name","x","JSON","stringify","post","SerializedDiagram","DatabaseName","then","response","setState","data","forceUpdate","catch","error","console","log","state","Component"],"mappings":";;;;;;AAAA,OAAO,cAAP;AACA,SAASA,YAAT,QAA6B,gBAA7B;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;IAEMC,K;;;OACJC,M;OACAC,gB;;;IAGIC,K;;;OACJC,S;;;AAGF,WAAaC,iBAAb;AAAA;AAAA;AAAA;;AACE,6BAAYC,KAAZ,EAA0B;AAAA;;AAAA;;AACxB,2FAAMA,KAAN;;AADwB,UAI1BC,cAJ0B,GAIT,UAACC,IAAD,EAAkB;AACjC,UAAIC,CAAC,GAAGC,IAAI,CAACC,SAAL,CAAe,MAAKL,KAAL,CAAWJ,gBAA1B,EAA4C,IAA5C,EAAkD,CAAlD,CAAR;AACAH,MAAAA,KAAK,CAACa,IAAN,CAAW,kCAAX,EAA+C;AAAEC,QAAAA,iBAAiB,EAAEJ,CAArB;AAAwBK,QAAAA,YAAY,EAAEN;AAAtC,OAA/C,EACGO,IADH,CACQ,UAACC,QAAD,EAAc;AAClB,cAAKC,QAAL,CAAc;AAAEb,UAAAA,SAAS,EAAEY,QAAQ,CAACE;AAAtB,SAAd;;AACA,cAAKC,WAAL;AACD,OAJH,EAKGC,KALH,CAKS,UAAUC,KAAV,EAAiB;AACtBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OAPH;AAQD,KAdyB;;AAExB,UAAKG,KAAL,GAAa;AAAEpB,MAAAA,SAAS,EAAE;AAAb,KAAb;AAFwB;AAGzB;;AAJH;AAAA;AAAA,6BAgBW;AAAA;;AAEP,aACE,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAE,KAAKoB,KAAL,CAAWpB,SAApC;AAA+C,QAAA,cAAc,EAAE,wBAACI,IAAD;AAAA,iBAAU,MAAI,CAACD,cAAL,CAAoBC,IAApB,CAAV;AAAA,SAA/D;AAAoG,QAAA,MAAM,EAAE,KAAKF,KAAL,CAAWL,MAAvH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAGD;AArBH;;AAAA;AAAA,EAAuCH,KAAK,CAAC2B,SAA7C","sourcesContent":["import './popup.scss';\nimport { PopupExample } from './PopupExample';\n\nimport React from 'react'\nimport axios from 'axios';\n\nclass Props {\n  isOpen: boolean;\n  serializeDiagram: any;\n}\n\nclass State {\n  sqlString: string;\n}\n\nexport class GenerationHandler extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { sqlString: '' }\n  }\n  generateScript = (name: string) => {\n    let x = JSON.stringify(this.props.serializeDiagram, null, 2);\n    axios.post('http://localhost:5000/api/setjob', { SerializedDiagram: x, DatabaseName: name })\n      .then((response) => {\n        this.setState({ sqlString: response.data });\n        this.forceUpdate();\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n  render() {\n\n    return (\n      <PopupExample sqlString={this.state.sqlString} generateScript={(name) => this.generateScript(name)} isOpen={this.props.isOpen} />\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}