{"ast":null,"code":"import _classCallCheck from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _get from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/src/components/widgets/CustomPortLabelWidget.tsx\";\nimport { BaseWidget, PortWidget } from \"storm-react-diagrams\";\nimport React from \"react\";\nimport AppContext from \"../../context/appContext/AppContext\";\nimport { PropertyType } from \"../models/PropertyType\";\nimport { AppViewType } from \"../../AppView\";\n\n/**\n * @author Dylan Vorster\n */\nexport var CustomPortLabelWidget =\n/*#__PURE__*/\nfunction (_BaseWidget) {\n  _inherits(CustomPortLabelWidget, _BaseWidget);\n\n  function CustomPortLabelWidget(props) {\n    _classCallCheck(this, CustomPortLabelWidget);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CustomPortLabelWidget).call(this, \"srd-default-port\", props));\n  }\n\n  _createClass(CustomPortLabelWidget, [{\n    key: \"getClassName\",\n    value: function getClassName() {\n      return _get(_getPrototypeOf(CustomPortLabelWidget.prototype), \"getClassName\", this).call(this) + (this.props.model.in ? this.bem(\"--in\") : this.bem(\"--out\"));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var port;\n\n      if (!this.props.model.isPrimaryKey) {\n        this.props.model.setLocked();\n        port = React.createElement(PortWidget, {\n          node: this.props.model.getParent(),\n          name: this.props.model.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31\n          },\n          __self: this\n        });\n      } else {\n        port = React.createElement(PortWidget, {\n          node: this.props.model.getParent(),\n          name: this.props.model.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        });\n      }\n\n      var label = React.createElement(\"div\", {\n        className: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, this.props.model.label, \" \", this.props.model.propertyType !== undefined ? PropertyType[this.props.model.propertyType] : null));\n      var isPrimaryKey = this.props.model.isPrimaryKey ? React.createElement(\"span\", {\n        className: \"mi mi-Permissions green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }) : null;\n      var isForeignKey = this.props.model.isForeignKey ? React.createElement(\"span\", {\n        className: \"mi mi-Permissions red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }) : null;\n      if (this.context.view === AppViewType.ENTITY && isForeignKey) return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, port);else return React.createElement(\"div\", Object.assign({}, this.getProps(), {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, isPrimaryKey), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, isForeignKey), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, label), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, port));\n    }\n  }]);\n\n  return CustomPortLabelWidget;\n}(BaseWidget);\nCustomPortLabelWidget.contextType = AppContext;","map":{"version":3,"sources":["/home/dell/Dokumenty/sql-gen2/sql-gen2/sql-generator2/src/components/widgets/CustomPortLabelWidget.tsx"],"names":["BaseWidget","PortWidget","React","AppContext","PropertyType","AppViewType","CustomPortLabelWidget","props","model","in","bem","port","isPrimaryKey","setLocked","getParent","name","label","propertyType","undefined","isForeignKey","context","view","ENTITY","getProps","contextType"],"mappings":";;;;;;;AACA,SAA0BA,UAA1B,EAAsCC,UAAtC,QAAwD,sBAAxD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,qCAAvB;AACA,SAASC,YAAT,QAA6B,wBAA7B;AACA,SAASC,WAAT,QAA4B,eAA5B;;AAQA;;;AAGA,WAAaC,qBAAb;AAAA;AAAA;AAAA;;AAEC,iCAAYC,KAAZ,EAA0C;AAAA;;AAAA,8FACnC,kBADmC,EACfA,KADe;AAEzC;;AAJF;AAAA;AAAA,mCAMgB;AACd,aAAO,2FAAwB,KAAKA,KAAL,CAAWC,KAAX,CAAiBC,EAAjB,GAAsB,KAAKC,GAAL,CAAS,MAAT,CAAtB,GAAyC,KAAKA,GAAL,CAAS,OAAT,CAAjE,CAAP;AACA;AARF;AAAA;AAAA,6BAUU;AACR,UAAIC,IAAJ;;AACA,UAAI,CAAC,KAAKJ,KAAL,CAAWC,KAAX,CAAiBI,YAAtB,EAAoC;AAClC,aAAKL,KAAL,CAAWC,KAAX,CAAiBK,SAAjB;AACAF,QAAAA,IAAI,GAAG,oBAAC,UAAD;AAAY,UAAA,IAAI,EAAE,KAAKJ,KAAL,CAAWC,KAAX,CAAiBM,SAAjB,EAAlB;AAAgD,UAAA,IAAI,EAAE,KAAKP,KAAL,CAAWC,KAAX,CAAiBO,IAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,OAHD,MAGO;AACLJ,QAAAA,IAAI,GAAG,oBAAC,UAAD;AAAY,UAAA,IAAI,EAAE,KAAKJ,KAAL,CAAWC,KAAX,CAAiBM,SAAjB,EAAlB;AAAgD,UAAA,IAAI,EAAE,KAAKP,KAAL,CAAWC,KAAX,CAAiBO,IAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;;AAED,UAAMC,KAAkB,GAAG;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,KAAKT,KAAL,CAAWC,KAAX,CAAiBQ,KADjB,OACyB,KAAKT,KAAL,CAAWC,KAAX,CAAiBS,YAAjB,KAAkCC,SAAlC,GAA8Cd,YAAY,CAAC,KAAKG,KAAL,CAAWC,KAAX,CAAiBS,YAAlB,CAA1D,GAA4F,IADrH,CADyB,CAA3B;AAKA,UAAML,YAAY,GAAG,KAAKL,KAAL,CAAWC,KAAX,CAAiBI,YAAjB,GAAgC;AAAM,QAAA,SAAS,EAAC,yBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAhC,GAA+E,IAApG;AACA,UAAMO,YAAY,GAAG,KAAKZ,KAAL,CAAWC,KAAX,CAAiBW,YAAjB,GAAgC;AAAM,QAAA,SAAS,EAAC,uBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAhC,GAA6E,IAAlG;AAEA,UAAI,KAAKC,OAAL,CAAaC,IAAb,KAAsBhB,WAAW,CAACiB,MAAlC,IAA4CH,YAAhD,EAA8D,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAMR,IAAN,CAAP,CAA9D,KAEE,OACD,6CAAS,KAAKY,QAAL,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACAX,YADA,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACAO,YADA,CAJF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACAH,KADA,CAPF,EAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACAL,IADA,CAVF,CADC;AAgBA;AA7CJ;;AAAA;AAAA,EAA2CX,UAA3C;AAAaM,qB,CACLkB,W,GAAcrB,U","sourcesContent":["import { Port } from \"../models/Port\";\nimport { BaseWidgetProps, BaseWidget, PortWidget } from \"storm-react-diagrams\";\nimport React from \"react\";\nimport AppContext from \"../../context/appContext/AppContext\"\nimport { PropertyType } from \"../models/PropertyType\";\nimport { AppViewType } from \"../../AppView\";\n\nexport interface DefaultPortLabelProps extends BaseWidgetProps {\n\tmodel: Port;\n}\n\nexport interface DefaultPortLabelState {}\n\n/**\n * @author Dylan Vorster\n */\nexport class CustomPortLabelWidget extends BaseWidget<DefaultPortLabelProps, DefaultPortLabelState> {\n\tstatic contextType = AppContext;\n\tconstructor(props: DefaultPortLabelProps) {\n\t\tsuper(\"srd-default-port\", props);\n\t}\n\n\tgetClassName() {\n\t\treturn super.getClassName() + (this.props.model.in ? this.bem(\"--in\") : this.bem(\"--out\"));\n\t}\n\n\trender() {\n\t\tlet port: JSX.Element;\n\t\tif (!this.props.model.isPrimaryKey) {\n\t\t  this.props.model.setLocked();\n\t\t  port = <PortWidget node={this.props.model.getParent()} name={this.props.model.name} />;\n\t\t} else {\n\t\t  port = <PortWidget node={this.props.model.getParent()} name={this.props.model.name} />;\n\t\t}\n\t\n\t\tconst label: JSX.Element = <div className=\"name\">\n\t\t  <div>\n\t\t\t{this.props.model.label} {this.props.model.propertyType !== undefined ? PropertyType[this.props.model.propertyType] : null}\n\t\t  </div>\n\t\t</div>;\n\t\tconst isPrimaryKey = this.props.model.isPrimaryKey ? <span className=\"mi mi-Permissions green\" /> : null\n\t\tconst isForeignKey = this.props.model.isForeignKey ? <span className=\"mi mi-Permissions red\" /> : null\n\t\n\t\tif (this.context.view === AppViewType.ENTITY && isForeignKey) return <div>{port}</div>;\n\t\telse\n\t\t  return (\n\t\t\t<div {...this.getProps()}>\n\t\t\t  <div>\n\t\t\t\t{isPrimaryKey}\n\t\t\t  </div>\n\t\t\t  <div>\n\t\t\t\t{isForeignKey}\n\t\t\t  </div>\n\t\t\t  <div>\n\t\t\t\t{label}\n\t\t\t  </div>\n\t\t\t  <div>\n\t\t\t\t{port}\n\t\t\t  </div>\n\t\t\t</div>\n\t\t  );\n\t  }\n}"]},"metadata":{},"sourceType":"module"}