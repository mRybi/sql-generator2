(this["webpackJsonpsql-gen2"]=this["webpackJsonpsql-gen2"]||[]).push([[0],{271:function(e,t,n){e.exports=n(574)},272:function(e,t,n){},277:function(e,t,n){},496:function(e,t,n){},497:function(e,t,n){},536:function(e,t,n){},571:function(e,t,n){},572:function(e,t,n){},573:function(e,t,n){},574:function(e,t,n){"use strict";n.r(t);n(272),n(148);var r,a=n(0),i=n.n(a),o=n(46),l=n.n(o),c=(n(277),n(10)),s=n(11),u=n(13),d=n(1),p=n(2),g=n(4),f=n(3),m=n(9);function b(){var e=Object(c.a)(["\n  min-width: 200px;\n  background: rgb(20, 20, 20);\n  flex-grow: 0;\n  flex-shrink: 0;\n"]);return b=function(){return e},e}(r||(r={})).Tray=m.default.div(b());var h,v=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return a.createElement(r.Tray,null,this.props.children)}}]),n}(a.Component);function O(){var e=Object(c.a)(["\n  color: white;\n  font-family: Helvetica, Arial;\n  padding: 5px;\n  margin: 0px 10px;\n  border: solid 1px ",";\n  border-radius: 5px;\n  margin-bottom: 2px;\n  cursor: pointer;\n"]);return O=function(){return e},e}!function(e){e.Tray=m.default.div(O(),(function(e){return e.color}))}(h||(h={}));var y=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return a.createElement(h.Tray,{color:this.props.color,draggable:!0,onDragStart:function(t){t.dataTransfer.setData("storm-diagram-node",JSON.stringify(e.props.model))}},this.props.name)}}]),n}(a.Component),k=n(21),E=n.n(k),P=n(12);function j(){var e=Object(c.a)(["\n  height: 100%;\n  background-color: ",";\n  background-size: 50px 50px;\n  display: flex;\n  > * {\n    height: 100%;\n    min-height: 100%;\n    width: 100%;\n  }\n  background-image: linear-gradient(\n      0deg,\n      transparent 24%,\n      "," 25%,\n      "," 26%,\n      transparent 27%,\n      transparent 74%,\n      "," 75%,\n      "," 76%,\n      transparent 77%,\n      transparent\n    ),\n    linear-gradient(\n      90deg,\n      transparent 24%,\n      "," 25%,\n      "," 26%,\n      transparent 27%,\n      transparent 74%,\n      "," 75%,\n      "," 76%,\n      transparent 77%,\n      transparent\n    );\n"]);return j=function(){return e},e}var N=m.default.div(j(),(function(e){return e.background}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color})),x=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return a.createElement(N,{background:this.props.background||"rgb(60, 60, 60)",color:this.props.color||"rgba(255,255,255, 0.05)"},this.props.children)}}]),n}(a.Component),I=n(23),w=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(d.a)(this,n),t.call(this,Object(I.a)({type:"arrow",width:e.width||3,color:e.color||"gray",selectedColor:e.selectedColor||"rgb(0,192,255)",curvyness:0},e))}return n}(k.DefaultLinkModel),L=n(24),C=n(20),M=n(15),T=n(147),S=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(d.a)(this,n),t.call(this,Object(I.a)({offsetY:null==e.offsetY?-23:e.offsetY,type:"default"},e))}return Object(p.a)(n,[{key:"setLabel",value:function(e){this.options.label=e}},{key:"deserialize",value:function(e){Object(L.a)(Object(C.a)(n.prototype),"deserialize",this).call(this,e),this.options.label=e.data.label}},{key:"serialize",value:function(){return Object(I.a)(Object(I.a)({},Object(L.a)(Object(C.a)(n.prototype),"serialize",this).call(this)),{},{label:this.options.label})}}]),n}(M.LabelModel),D=n(33),A=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(e,r,a){var i;return Object(d.a)(this,n),(i=t.call(this,{type:"default",name:r,color:a})).isLabel=e,i.portsIn=[],i}return Object(p.a)(n,[{key:"doClone",value:function(e,t){t.portsIn=[],t.portsOut=[],Object(L.a)(Object(C.a)(n.prototype),"doClone",this).call(this,e,t)}},{key:"removePort",value:function(e){Object(L.a)(Object(C.a)(n.prototype),"removePort",this).call(this,e)}},{key:"addPort",value:function(e){return Object(L.a)(Object(C.a)(n.prototype),"addPort",this).call(this,e),e.getOptions().in&&-1===this.portsIn.indexOf(e)&&this.portsIn.push(e),e}},{key:"deserialize",value:function(e){var t=this;Object(L.a)(Object(C.a)(n.prototype),"deserialize",this).call(this,e),this.options.name=e.data.name,this.options.color=e.data.color,this.portsIn=u.map(e.data.portsInOrder,(function(e){return t.getPortFromID(e)})),this.isLabel=e.data.isLabel}},{key:"serialize",value:function(){return Object(I.a)(Object(I.a)({},Object(L.a)(Object(C.a)(n.prototype),"serialize",this).call(this)),{},{name:this.options.name,color:this.options.color,isLabel:this.isLabel})}},{key:"getInPorts",value:function(){return this.portsIn}}]),n}(M.NodeModel),F=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(d.a)(this,n),(e=t.call(this,Object(I.a)({type:"default",width:r.width||3,color:r.color||"gray",selectedColor:r.selectedColor||"rgb(0,192,255)",curvyness:0},r))).addLabel("0,N"),e.addLabel("relation name"),e.addLabel("0,N"),e.properties=new A(!1,"relNode","rgb(0,192,255)"),e}return Object(p.a)(n,[{key:"calculateControlOffset",value:function(e){return e.getOptions().alignment===M.PortModelAlignment.RIGHT?[this.options.curvyness,0]:e.getOptions().alignment===M.PortModelAlignment.LEFT?[-this.options.curvyness,0]:e.getOptions().alignment===M.PortModelAlignment.TOP?[0,-this.options.curvyness]:[0,this.options.curvyness]}},{key:"getSVGPath",value:function(){if(2===this.points.length){var e,t,n=new D.BezierCurve;if(n.setSource(this.getFirstPoint().getPosition()),n.setTarget(this.getLastPoint().getPosition()),n.setSourceControl(this.getFirstPoint().getPosition().clone()),n.setTargetControl(this.getLastPoint().getPosition().clone()),this.sourcePort)(e=n.getSourceControl()).translate.apply(e,Object(T.a)(this.calculateControlOffset(this.getSourcePort())));if(this.targetPort)(t=n.getTargetControl()).translate.apply(t,Object(T.a)(this.calculateControlOffset(this.getTargetPort())));return n.getSVGCurve()}}},{key:"serialize",value:function(){var e=this.properties&&this.properties.getPorts()&&Object.values(this.properties.getPorts()),t=e&&e.map((function(e){return{label:e.label,propertyType:e.propertyType,isPrimaryKey:e.isPrimaryKey,isNotNull:e.isNotNull,isAutoincremented:e.isAutoincremented,isUnique:e.isUnique}}));return Object(I.a)(Object(I.a)({},Object(L.a)(Object(C.a)(n.prototype),"serialize",this).call(this)),{},{width:this.options.width,color:this.options.color,curvyness:this.options.curvyness,selectedColor:this.options.selectedColor,properties:t})}},{key:"deserialize",value:function(e){var t=new A(!1,"relNode","rgb(0,192,255)");e.data.properties.forEach((function(e){t.addPort(new q(!1,e.label,!1,e.isPrimaryKey,!1,!1,e.isNotNull,e.isAutoincremented,e.isUnique,e.propertyType))})),Object(L.a)(Object(C.a)(n.prototype),"deserialize",this).call(this,e),this.options.color=e.data.color,this.options.width=e.data.width,this.options.curvyness=e.data.curvyness,this.options.selectedColor=e.data.selectedColor,this.properties=t}},{key:"addLabel",value:function(e){if(e instanceof M.LabelModel)return Object(L.a)(Object(C.a)(n.prototype),"addLabel",this).call(this,e);var t=new S;return t.setLabel(e),Object(L.a)(Object(C.a)(n.prototype),"addLabel",this).call(this,t)}},{key:"setWidth",value:function(e){this.options.width=e,this.fireEvent({width:e},"widthChanged")}},{key:"setColor",value:function(e){this.options.color=e,this.fireEvent({color:e},"colorChanged")}}]),n}(M.LinkModel),K=n(144),R=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"UID",value:function(){return e.TESTING?(e.TESTING_UID++,"".concat(e.TESTING_UID)):"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},{key:"closest",value:function(e,t){return document.body.closest?e.closest(t):K(e,t)}}]),e}();R.TESTING=!1,R.TESTING_UID=0;var U,q=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(e,r,a,i,o,l,c,s,u,p,g,f,m){var b;return Object(d.a)(this,n),(b=t.call(this,{id:g||R.UID(),in:!0,name:r,label:r,alignment:m,type:e?"arrow":"default"})).label=r,b.isNamePort=a,b.links={},b.isPrimaryKey=i,b.isForeignKey=o,b.isPartialKey=l,b.isNotNull=c,b.isUnique=u,b.isAutoincremented=s,b.propertyType=p,b.fkPortId=f,b}return Object(p.a)(n,[{key:"deserialize",value:function(e){Object(L.a)(Object(C.a)(n.prototype),"deserialize",this).call(this,e),this.options.in=e.data.in,this.options.label=e.data.label,this.label=e.data.label,this.isNamePort=e.data.isNamePort,this.isPrimaryKey=e.data.isPrimaryKey,this.isPartialKey=e.data.isPartialKey,this.isForeignKey=e.data.isForeignKey,this.isNotNull=e.data.isNotNull,this.isUnique=e.data.isUnique,this.isAutoincremented=e.data.isAutoincremented,this.propertyType=e.data.propertyType,this.fkPortId=e.data.fkPortId}},{key:"serialize",value:function(){return Object(I.a)(Object(I.a)({},Object(L.a)(Object(C.a)(n.prototype),"serialize",this).call(this)),{},{in:this.in,label:this.label,isNamePort:this.isNamePort,isPrimaryKey:this.isPrimaryKey,isPartialKey:this.isPartialKey,isForeignKey:this.isForeignKey,isNotNull:this.isNotNull,isUnique:this.isUnique,isAutoincremented:this.isAutoincremented,propertyType:this.propertyType,fkPortId:this.fkPortId})}},{key:"link",value:function(e,t){var n=this.createLinkModel(t);return n.setSourcePort(this),n.setTargetPort(e),n}},{key:"canLinkToPort",value:function(e){return e!==this}},{key:"createLinkModel",value:function(e){var t=Object(L.a)(Object(C.a)(n.prototype),"createLinkModel",this).call(this);return!t&&e?e.generateModel({}):t||new F}}]),n}(M.PortModel),G=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(e,r,a,i,o,l,c,s,u,p,g,f){return Object(d.a)(this,n),t.call(this,!0,e,r,a,i,o,l,c,s,u,p,g,f)}return Object(p.a)(n,[{key:"link",value:function(e,t){var n=this.createLinkModel();return n.setSourcePort(e),n.setTargetPort(this),n}},{key:"canLinkToPort",value:function(e){if(e===this)return!1;var t=this.getParent(),r=e.getParent(),a=r.getPorts(),i=t.getPorts(),o=Object.keys(i).find((function(e){return i[e].fkPortId===r.getOptions().id})),l=Object.keys(a).find((function(e){return a[e].fkPortId===t.getOptions().id})),c=Object.keys(i).find((function(e){return i[e].isPrimaryKey}))||"Id";return o||l||(c?r.addPort(new n(t.getOptions().name+i[c].getOptions().name,!1,!1,!0,!0,!0,!1,!1,"INT",R.UID(),t.getOptions().id)):r.addPort(new n(t.getOptions().name+"Id",!1,!1,!0,!0,!0,!1,!1,"INT",R.UID(),t.getOptions().id))),!0}},{key:"createLinkModel",value:function(){return new w}}]),n}(q),z=n(29);function B(){var e=Object(c.a)(["\n        cursor: not-allowed !important;\n      "]);return B=function(){return e},e}function V(){var e=Object(c.a)(["\n        background-color: black;\n        border-width: 4px !important;\n      "]);return V=function(){return e},e}function H(){var e=Object(c.a)(["\n    color: white;\n    font-family: Helvetica, Arial;\n    padding: 5px;\n    margin: 0px 10px;\n    border: solid 1px ",";\n    border-radius: 5px;\n    margin-bottom: 2px;\n    cursor: pointer;\n    margin-top: ",";\n\n    display: flex;\n    justify-content: space-between;\n  \n    ","\n  \n    ","\n  "]);return H=function(){return e},e}!function(e){e.Tray=m.default.div(H(),(function(e){return e.color}),(function(e){return e.marginTop}),(function(e){return e.isSelected&&Object(z.css)(V())}),(function(e){return e.isDisabled&&Object(z.css)(B())}))}(U||(U={}));var W,Y=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.isDisabled,r=t.isSelected,i=t.marginTop,o=t.color,l=t.name;return a.createElement(U.Tray,Object.assign({},this.props,{isDisabled:n,isSelected:r,marginTop:i,color:o}),null!==(e=this.props.children)&&void 0!==e?e:l)}}]),n}(a.Component),J=(n(496),function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return a.createElement("div",{style:this.props.style,className:this.buildClassNameString()},this.props.children)}},{key:"buildClassNameString",value:function(){var e="ms-Grid";return null!=this.props.className&&(e+=" ".concat(this.props.className)),e}}]),n}(a.Component)),X=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return a.createElement("div",{className:this.buildClassNameString()},this.props.children)}},{key:"buildClassNameString",value:function(){var e="ms-Grid-row";return this.props.flex&&(e+=" grid-row-flex"),null!=this.props.className&&(e+=" ".concat(this.props.className)),e}}]),n}(a.Component),Q=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return a.createElement("div",{className:this.buildClassNameString(),onDoubleClick:this.props.onDoubleClick},this.props.children)}},{key:"buildGridColConfigClassNames",value:function(e,t){if(null==t)return"";var n=" ms-".concat(e);return"string"===typeof t?n+=t:(n+=t.size,null!=t.pull&&(n+=" ms-".concat(e,"Pull").concat(t.pull)),null!=t.push&&(n+=" ms-".concat(e,"Push").concat(t.push)),null!=t.offset&&(n+=" ms-".concat(e,"Offset").concat(t.offset)),null!=t.order&&(n+=" grid-flex-order-".concat(e,"-").concat(t.order))),n}},{key:"buildClassNameString",value:function(){var e="ms-Grid-col";return null!=this.props.className&&(e+=" ".concat(this.props.className)),null!=this.props.hidden&&(e+=" ms-hidden".concat(this.props.hidden)),null!=this.props.order&&(e+=" grid-flex-order-".concat(this.props.order)),e+=this.buildGridColConfigClassNames("sm",this.props.sm),e+=this.buildGridColConfigClassNames("md",this.props.md),e+=this.buildGridColConfigClassNames("lg",this.props.lg),e+=this.buildGridColConfigClassNames("xl",this.props.xl),e+=this.buildGridColConfigClassNames("xxl",this.props.xxl),e+=this.buildGridColConfigClassNames("xxxl",this.props.xxxl)}}]),n}(a.Component);n(497);!function(e){e.BIT="BIT",e.TINYINT="TINYINT",e.SMALLINT="SMALLINT",e.INT="INT",e.BIGINT="BIGINT",e["DECIMAL()"]="DECIMAL()",e["NUMERIC()"]="NUMERIC()",e["FLOAT()"]="FLOAT()",e.REAL="REAL",e.DATE="DATE",e.TIME="TIME",e.DATETIME="DATETIME",e.TIMESTAMP="TIMESTAMP",e.YEAR="YEAR",e["CHAR()"]="CHAR()",e["VARCHAR()"]="VARCHAR()",e.TEXT="TEXT",e["NCHAR()"]="NCHAR()",e["NVARCHAR()"]="NVARCHAR()",e.NTEXT="NTEXT",e["BINARY()"]="BINARY()",e["VARBINARY()"]="VARBINARY()",e.IMAGE="IMAGE",e.CLOB="CLOB",e.BLOB="BLOB",e.XML="XML",e.JSON="JSON",e.MONEY="MONEY"}(W||(W={}));var _,$=n(267),Z=n.n($);function ee(){var e=Object(c.a)(["\n    cursor: cell\n  "]);return ee=function(){return e},e}!function(e){e.AddNewAtributeButton=m.default.p(ee())}(_||(_={}));var te,ne=function(e){var t=i.a.useState(null),n=Object(s.a)(t,2),r=n[0],a=n[1],o=function(){var e=i.a.useState(0),t=Object(s.a)(e,2)[1];return function(){return t((function(e){return++e}))}}();i.a.useMemo((function(){a(e.selectedItem)}),[e.selectedItem]);var l=function(e,t){e.persist(),r.getPortFromID(t.getOptions().id).isPrimaryKey=!t.isPrimaryKey,r.getPortFromID(t.getOptions().id).isNotNull=!!t.isPrimaryKey,r.getPortFromID(t.getOptions().id).isAutoincremented=!!t.isPrimaryKey,r.getPortFromID(t.getOptions().id).isUnique=!!t.isPrimaryKey,function(){var e=r&&r.ports&&r.ports;Object.keys(e).map((function(t){return console.log(e[t].isPartialKey=!1)}))}(),o()},c=[{dataField:"label",text:"Property Name",formatter:function(e,t){return i.a.createElement("div",{className:"input"},i.a.createElement("input",{style:{width:"100px"},className:"darkInput",type:"text",defaultValue:t.label,onChange:function(e){return function(e,t){e.persist(),r.getPortFromID(t.getOptions().id).label=e.target.value}(e,t)}}))}},{style:{paddingLeft:0},dataField:"propertyType",text:"Property Type",formatter:function(e,t){return i.a.createElement("div",{className:"input"},i.a.createElement("input",{style:{width:"100px"},type:"text",list:"types",className:"darkInput",onChange:function(e){return function(e,t){e.persist(),r.getPortFromID(t.getOptions().id).propertyType=e.target.value}(e,t)},defaultValue:t.propertyType}),i.a.createElement("datalist",{id:"types"},Object.values(W).map((function(e){return i.a.createElement("option",{key:e,value:e},e)}))))}},{dataField:"isPrimaryKey",text:"Is Primary Key",formatter:function(e,t){return i.a.createElement("div",{className:"checkbox"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",checked:t.isPrimaryKey,onChange:function(e){return l(e,t)}})))}},{dataField:"isForeignKey",text:"Is Foreign Key",formatter:function(e,t){return i.a.createElement("div",{className:"checkbox"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",checked:t.isForeignKey,onChange:function(e){return function(e,t){e.persist(),r.getPortFromID(t.getOptions().id).isForeignKey=!t.isForeignKey,r.getPortFromID(t.getOptions().id).isNotNull=!!t.isForeignKey,o()}(e,t)}})))}},{dataField:"isPartialKey",text:"Is Partial Key",formatter:function(e,t){return i.a.createElement("div",{className:"checkbox"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",checked:t.isPartialKey,onChange:function(e){return function(e,t){e.persist(),r.getPortFromID(t.getOptions().id).isPartialKey=!t.isPartialKey,r.getPortFromID(t.getOptions().id).isNotNull=!!t.isPartialKey,o()}(e,t)}})))}},{dataField:"isNotNull",text:"Not Null",formatter:function(e,t){return i.a.createElement("div",{className:"checkbox"},i.a.createElement("label",null,i.a.createElement("input",{disabled:t.isPrimaryKey||t.isForeignKey,type:"checkbox",checked:t.isNotNull,onChange:function(e){return function(e,t){e.persist(),r.getPortFromID(t.getOptions().id).isNotNull=!t.isNotNull,o()}(e,t)}})))}},{dataField:"isAutoincremented",text:"Is Auto Incremented",formatter:function(e,t){return i.a.createElement("div",{className:"checkbox"},i.a.createElement("label",null,i.a.createElement("input",{disabled:t.isPrimaryKey,type:"checkbox",checked:t.isAutoincremented,onChange:function(e){return function(e,t){e.persist(),r.getPortFromID(t.getOptions().id).isAutoincremented=!t.isAutoincremented,o()}(e,t)}})))}},{dataField:"isUnique",text:"Is Unique",formatter:function(e,t){return i.a.createElement("div",{className:"checkbox"},i.a.createElement("label",null,i.a.createElement("input",{disabled:t.isPrimaryKey,type:"checkbox",checked:t.isUnique,onChange:function(e){return function(e,t){e.persist(),r.getPortFromID(t.getOptions().id).isUnique=!t.isUnique,o()}(e,t)}})))}},{dataField:"remove",text:"Remove",formatter:function(e,t){return i.a.createElement("div",{className:"checkbox"},i.a.createElement("label",null,i.a.createElement("span",{onClick:function(){return e=t,r.removePort(e),void o();var e},className:"mi mi-Delete red"})))}}],u=r&&r.ports&&r.ports,d=u&&Object.keys(u).map((function(e){return u[e]})).filter((function(e){return!e.isNamePort})),p=c;return!(!d||!d.find((function(e){return e.isPrimaryKey})))&&(p=p.filter((function(e){return"isPartialKey"!==e.dataField}))),e.isLogic||(p=p.filter((function(e){return"isForeignKey"!==e.dataField}))),i.a.createElement("div",{className:"".concat(!e.relView&&"relView")},i.a.createElement(Z.a,{keyField:"id",data:d,columns:e.relView?p.filter((function(e){return"isPrimaryKey"!==e.dataField&&"isPartialKey"!==e.dataField})):p,bordered:!1}),i.a.createElement(_.AddNewAtributeButton,{onClick:function(){return e=d.length,r.addPort(new G("new atribute ".concat(e),!1,!1,!1,!1,!1,!1,!1,"INT")),void o();var e}},"Add new atribute"))};function re(){var e=Object(c.a)(["\n        font-size: ","px;\n        margin-top: 15px;\n        width: 90%;\n    "]);return re=function(){return e},e}function ae(){var e=Object(c.a)(["\n    background-color: #3E3E3E;\n    color: #E9F7F7;\n    margin-top: 7px;\n    width: 150px;\n    margin-right: 0px;\n    padding-right: 0px;\n\n    ","\n  "]);return ae=function(){return e},e}!function(e){e.Input=m.default.input(ae(),(function(e){var t=e.fontSize;return Object(z.css)(re(),t)}))}(te||(te={}));var ie=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return a.createElement(te.Input,this.props,this.props.children)}}]),n}(a.Component);function oe(){var e=a.useState(0),t=Object(s.a)(e,2)[1];return function(){return t((function(e){return++e}))}}var le,ce=function(e){var t=a.useState(null),n=Object(s.a)(t,2),r=n[0],i=n[1],o=a.useState(""),l=Object(s.a)(o,2),c=l[0],u=l[1],d=a.useState(""),p=Object(s.a)(d,2),g=p[0],f=p[1],m=a.useState(!1),b=Object(s.a)(m,2),h=b[0],v=b[1],O=oe();a.useMemo((function(){i(e.selectedItem),f(e.selectedItem.getOptions().name),u(e.selectedItem.getOptions().name)}),[e.selectedItem]),a.useEffect((function(){return e.selectedItem.setLocked(),function(){e.selectedItem.setLocked(!1)}}));var y=function(t){t.persist(),e.diagramEngine.getModel().getNodes().map((function(e){return e.getOptions().name.toLowerCase().trim()})).includes(t.target.value.toLowerCase().trim())?r.getOptions().name=c:r.getOptions().name=t.target.value.trim(),O()};return r?a.createElement("div",{className:"trayBottom"},a.createElement(J,null,a.createElement(X,null,a.createElement(Q,null,h?e.selectedItem.isLabel?a.createElement("textarea",{style:{height:"200px"},className:"darkInput fs-28",defaultValue:g,onChange:function(e){return y(e)}}):a.createElement(ie,{fontSize:28,type:"text",defaultValue:g,onChange:function(e){return y(e)}}):a.createElement("h1",{style:{wordBreak:"break-all"},onDoubleClick:function(){return v(!0)}},g)),r.isLabel?null:a.createElement(ne,{selectedItem:e.selectedItem,diagramEngine:e.diagramEngine,isLogic:e.isLogic})))):null},se=n(105),ue=n.n(se),de=n(268),pe=(n(536),n(36)),ge=n(145),fe=n.n(ge),me=n(73),be=n.n(me),he=function(e){var t=Object(a.useState)("DatabaseName"),n=Object(s.a)(t,2),r=n[0],o=n[1],l=Object(a.useState)(!1),c=Object(s.a)(l,2),u=c[0],d=c[1],p=e.mssqlString&&fe.a.format(e.mssqlString,{language:"sql",indent:"  "}),g=e.mysqlString&&fe.a.format(e.mysqlString,{language:"db2",indent:"  "});return i.a.createElement(pe.a,{modal:!0,closeOnDocumentClick:!0,open:e.isOpen,closeOnEscape:!0},i.a.createElement("div",{className:"sql-result-dialog"},i.a.createElement("input",{style:{marginRight:"10px"},type:"text",onChange:function(e){return o(e.target.value)},value:r}),i.a.createElement("button",{style:{marginRight:"10px"},onClick:function(){e.generateScript(r)}},"Generate"),i.a.createElement("button",{className:"".concat(u?"":"selected-sql"),onClick:function(){d(!1)}},"MSSQL"),i.a.createElement("button",{className:"".concat(u?"selected-sql":""),onClick:function(){d(!0)}},"MySQL"),i.a.createElement("textarea",{style:{marginTop:"5px"},readOnly:!0,value:u?g:p,contentEditable:!1}),i.a.createElement("button",{style:{marginRight:"10px"},onClick:function(){var t=new Blob([p],{type:"text/plain;charset=utf-8"});be.a.saveAs(t,"".concat(r,".sql")),e.update()}},"Download MSSQL"),i.a.createElement("button",{style:{marginRight:"10px"},onClick:function(){var t=new Blob([g],{type:"text/plain;charset=utf-8"});be.a.saveAs(t,"".concat(r,".sql")),e.update()}},"Download mySQL")))},ve=n(146),Oe=n.n(ve),ye=function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),r=n[0],o=n[1],l=Object(a.useState)(""),c=Object(s.a)(l,2),u=c[0],d=c[1];Object(a.useEffect)((function(){return o("")}),[e.isOpen]);var p=function(){var t=Object(de.a)(ue.a.mark((function t(n){var r,a,i,l,c,s,u,p,g;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.serializeDiagram,a=r.layers[1].models,i=Object.keys(a).map((function(e){return a[e]})),l=r.layers[0].models,c=Object.keys(l).map((function(e){return l[e]})),s={nodes:i,links:c},u=JSON.stringify(s,null,2),t.next=9,Oe.a.post("https://sql-generator.pl/api/setjob/mssql",{SerializedModel:u,DatabaseName:n,RelationType:e.isUml?"UML":"CHEN",DiagramType:e.isLogic?"Logic":"Conceptual"});case 9:return p=t.sent,t.next=12,Oe.a.post("https://sql-generator.pl/api/setjob/mysql",{SerializedModel:u,DatabaseName:n,RelationType:e.isUml?"UML":"CHEN",DiagramType:e.isLogic?"Logic":"Conceptual"});case 12:g=t.sent,200===p.status&&200===g.status?(o(p.data),d(g.data)):(o("There was an error while processing your request"),d("There was an error while processing your request"),console.log("there was an error while processing your request"));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return i.a.createElement(he,{update:e.update,mssqlString:r,mysqlString:u,generateScript:function(e){return p(e)},isOpen:e.isOpen})},ke=(n(571),function(e){var t,n=Object(a.useState)(""),r=Object(s.a)(n,2),o=r[0],l=r[1],c=function(e){var n=t.result;l(n)};return i.a.createElement(pe.a,{modal:!0,closeOnDocumentClick:!0,open:e.isOpen,closeOnEscape:!0,onClose:function(){return e.update()}},i.a.createElement("div",{className:"sql-result-dialog"},i.a.createElement("input",{type:"file",onChange:function(e){return n=e.target.files[0],(t=new FileReader).onloadend=c,void t.readAsText(n);var n},accept:".dbjson"}),i.a.createElement("button",{onClick:function(){return e.loadDiagram(o)}},"Load")))}),Ee=function(e){return i.a.createElement(ke,{update:e.update,loadDiagram:function(t){return function(t){var n=e.app.getDiagramEngine();try{var r=JSON.parse(t);e.setIsUml(r.isUml),r.isLogic?e.setIsLogic(r.isLogic):e.setIsLogic(!1);var a=new k.DiagramModel;a.deserializeModel(r.diagram,n),a.getLinks().forEach((function(e){e.getLabels().splice(0,3)})),r.isLogic?e.app.loadLogicModel(a):e.app.loadConceptualModel(a),n.repaintCanvas(),e.update()}catch(i){console.log(i)}}(t)},isOpen:e.isOpen})},Pe=(n(572),function(e){var t=Object(a.useState)("diagram"),n=Object(s.a)(t,2),r=n[0],o=n[1];return i.a.createElement(pe.a,{modal:!0,closeOnDocumentClick:!0,open:e.isOpen,closeOnEscape:!0,onClose:function(){return e.update()}},i.a.createElement("div",{className:"sql-result-dialog"},i.a.createElement("input",{type:"text",onChange:function(e){return o(e.target.value)},value:r}),i.a.createElement("button",{onClick:function(){var t=JSON.stringify({diagram:e.diagramModel.serialize(),isUml:e.isUml,isLogic:e.isLogic}),n=new Blob([t],{type:"text/plain;charset=utf-8"});be.a.saveAs(n,"".concat(r,".dbjson")),e.update()}},"save")))}),je=(n(573),n(269)),Ne=n.n(je),xe=function(e){var t=Object(a.useState)("diagram"),n=Object(s.a)(t,2),r=n[0],o=n[1];return i.a.createElement(pe.a,{modal:!0,closeOnDocumentClick:!0,open:e.isOpen,closeOnEscape:!0,onClose:function(){return e.update()}},i.a.createElement("div",{className:"sql-result-dialog"},i.a.createElement("input",{type:"text",onChange:function(e){return o(e.target.value)},value:r}),i.a.createElement("button",{onClick:function(){Ne.a.toJpeg(document.getElementById("diagram-layer"),{quality:.95}).then((function(t){var n=document.createElement("a");n.download="".concat(r,".jpeg"),n.href=t,n.click(),e.update()}))}},"save")))};function Ie(){var e=Object(c.a)(["\n    background-color: rgba(255, 255, 255, 0.274);\n    padding: 10px;\n    text-align: center;\n  "]);return Ie=function(){return e},e}function we(){var e=Object(c.a)(["\n    display: grid;\n    grid-template-columns: auto auto auto;\n  "]);return we=function(){return e},e}!function(e){e.GridContainer=m.default.div(we()),e.GridItem=m.default.div(Ie())}(le||(le={}));var Le,Ce=function(e){var t=Object(a.useState)("1, N"),n=Object(s.a)(t,2),r=n[0],o=n[1],l=Object(a.useState)("1, N"),c=Object(s.a)(l,2),u=c[0],d=c[1],p=Object(a.useState)("relation name"),g=Object(s.a)(p,2),f=g[0],m=g[1];i.a.useEffect((function(){var t=e.link&&e.link.getLabels().length>2&&e.link.getLabels()[0].getOptions().label,n=e.link&&e.link.getLabels().length>2&&e.link.getLabels()[1].getOptions().label,r=e.link&&e.link.getLabels().length>2&&e.link.getLabels()[2].getOptions().label;o(t||"1, N"),m(n||"relation name"),d(r||"1, N")}),[e.link]);var b=e.link&&e.link.getSourcePort()&&e.link.getSourcePort().getParent(),h=e.link&&e.link.getTargetPort()&&e.link.getTargetPort().getParent(),v=function(){var t=e.link&&e.link.getSourcePort(),n=e.link&&e.link.getTargetPort();if(t.removeLink(e.link),n.removeLink(e.link),e.diagramEngine.getModel().removeLink(e.link),e.isLogic){var r=e.link.getTargetPort().getParent(),a=e.link.getSourcePort().getParent(),i=a.getPorts(),o=r.getPorts(),l=Object.keys(o).filter((function(e){return o[e].fkPortId===a.getOptions().id}))[0],c=Object.keys(i).filter((function(e){return i[e].fkPortId===r.getOptions().id}))[0];l?r.removePort(o[l]):a.removePort(i[c])}e.update()},O=i.a.createElement(i.a.Fragment,null,i.a.createElement("option",{value:"0, N"},"0, N"),i.a.createElement("option",{value:"1, N"},"1, N"),i.a.createElement("option",{value:"0, 1"},"0, 1"),i.a.createElement("option",{value:"1, 1"},"1, 1"),i.a.createElement("option",{value:"N, N"},"N, N")),y=function(e){return i.a.createElement(le.GridItem,null,i.a.createElement("select",{className:"darkSelect",onChange:function(t){return"left"===e?o(t.target.value):d(t.target.value)},value:"left"===e?r:u},O))};return e.isLogic?i.a.createElement(pe.a,{modal:!0,closeOnDocumentClick:!0,open:e.isOpen,closeOnEscape:!0},i.a.createElement(i.a.Fragment,null,i.a.createElement(le.GridItem,null,i.a.createElement("button",{onClick:v},"Remove")),i.a.createElement(le.GridItem,null,i.a.createElement("button",{onClick:function(){var t=e.link.getTargetPort().getParent(),n=e.link.getSourcePort().getParent(),r=n.getPorts(),a=t.getPorts(),i=Object.keys(a).filter((function(e){return a[e].fkPortId===n.getOptions().id}))[0],o=Object.keys(r).filter((function(e){return r[e].fkPortId===t.getOptions().id}))[0];if(i){t.removePort(a[i]);var l=Object.keys(a).filter((function(e){return a[e].isPrimaryKey}))[0];n.addPort(new G(t.getOptions().name+a[l].getOptions().name,!1,!1,!1,!0,!1,!0,!0,"INT",R.UID(),t.getOptions().id))}else{n.removePort(r[o]);var c=Object.keys(r).filter((function(e){return r[e].isPrimaryKey}))[0];n.addPort(new G(n.getOptions().name+r[c].getOptions().name,!1,!1,!1,!0,!1,!0,!0,"INT",R.UID(),n.getOptions().id))}var s=e.link.getTargetPort(),u=e.link.getSourcePort(),d=e.diagramEngine.getModel();d.removeLink(e.link);var p=new w({type:"arrow"});p.setSourcePort(s),p.setTargetPort(u),d.addLink(p),e.update()}},"Reverse")))):i.a.createElement(pe.a,{modal:!0,closeOnDocumentClick:!0,open:e.isOpen,closeOnEscape:!0},i.a.createElement(i.a.Fragment,null,i.a.createElement(le.GridContainer,null,i.a.createElement(le.GridItem,null,i.a.createElement("p",null,b&&b.getOptions().name)),i.a.createElement(le.GridItem,null,i.a.createElement("input",{type:"text",defaultValue:f,onChange:function(e){return m(e.target.value)}})),i.a.createElement(le.GridItem,null,i.a.createElement("p",null,h&&h.getOptions().name)),y("left"),i.a.createElement(le.GridItem,null,i.a.createElement("button",{onClick:function(){var t=e.link.getLabels();t[0].getOptions().label=r,t[2].getOptions().label=u,t[1].getOptions().label=f;for(var n=e.link.getPoints(),a=1;a<n.length-1;a++){n[a].remove()}e.update()}},"SAVE")),y("right"),i.a.createElement(le.GridItem,null),i.a.createElement(le.GridItem,null,i.a.createElement("button",{onClick:v},"Remove"))),e.link&&i.a.createElement("div",null,i.a.createElement("h3",{style:{margin:0}},"Atributes:"),i.a.createElement(ne,{relView:!0,diagramEngine:e.diagramEngine,selectedItem:e.link.properties,isLogic:e.isLogic}))))};function Me(){var e=Object(c.a)(["\n    display: inline-block;\n    padding-top: 3px;\n    padding-right: 5px;\n  "]);return Me=function(){return e},e}function Te(){var e=Object(c.a)(["\n    position: relative;\n    flex-grow: 1;\n  "]);return Te=function(){return e},e}function Se(){var e=Object(c.a)(["\n    display: flex;\n    flex-grow: 1;\n  "]);return Se=function(){return e},e}function De(){var e=Object(c.a)(["\n    display: flex;\n    background: rgb(30, 30, 30);\n    flex-grow: 0;\n    flex-shrink: 0;\n    color: white;\n    font-family: Helvetica, Arial, sans-serif;\n    padding: 12px;\n    align-items: center;\n  "]);return De=function(){return e},e}function Ae(){var e=Object(c.a)(["\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n    min-height: 100%;\n  "]);return Ae=function(){return e},e}!function(e){e.Body=m.default.div(Ae()),e.Header=m.default.div(De()),e.Content=m.default.div(Se()),e.Layer=m.default.div(Te()),e.DropdownIcon=m.default.span(Me())}(Le||(Le={}));var Fe,Ke=function(e){var t=a.useState(!1),n=Object(s.a)(t,2),r=n[0],i=n[1],o=a.useState(!1),l=Object(s.a)(o,2),c=l[0],d=l[1],p=a.useState(!1),g=Object(s.a)(p,2),f=g[0],m=g[1],b=a.useState(!1),h=Object(s.a)(b,2),O=h[0],E=h[1],j=a.useState(!1),N=Object(s.a)(j,2),I=N[0],w=N[1],L=a.useState(!1),C=Object(s.a)(L,2),M=C[0],T=C[1],S=a.useState(null),D=Object(s.a)(S,2),F=D[0],K=D[1],R=a.useState(null),U=Object(s.a)(R,2),z=U[0],B=U[1],V=a.useState(!0),H=Object(s.a)(V,2),W=H[0],J=H[1],X=a.useState(!1),Q=Object(s.a)(X,2),_=Q[0],$=Q[1],Z=oe();a.useEffect((function(){K(null),B(null)}),[]);var ee=function(){e.app.getDiagramEngine().getModel().getLinks().forEach((function(e){var t=e.getLabels()[0].getOptions().label.substring(0,1),n=e.getLabels()[2].getOptions().label.substring(0,1);e.getLabels()[0].getOptions().label=n+e.getLabels()[0].getOptions().label.substring(1),e.getLabels()[2].getOptions().label=t+e.getLabels()[2].getOptions().label.substring(1)}))},te=function(){B(null),K(null),i(!1),E(!1),w(!1),T(!1),m(!1),d(!1)};return a.createElement(Le.Body,null,a.createElement(Le.Header,null,"DB Diagram Scripter"),a.createElement(Le.Content,null,a.createElement(v,null,a.createElement(y,{model:{type:"default"},name:_?"Relation":"Entity",color:"rgb(0,192,255)"}),a.createElement(y,{model:{type:"label"},name:"Label",color:"rgb(192,255,0)"}),a.createElement(Y,{name:"Load Diagram",color:"rgb(255,123,0)",marginTop:"75px",onClick:function(){m(!0),K(null)}}),a.createElement(Y,{color:"rgb(255,123,0)",onClick:function(){T(!M),K(null)}},a.createElement(a.Fragment,null,"Save",a.createElement(Le.DropdownIcon,{className:"mi ".concat(M?"mi-ArrowUp8":"mi-ArrowDown8")}))),M&&a.createElement(Y,{name:"File",color:"rgb(255,123,0)",onClick:function(){E(!0),K(null)}}),M&&a.createElement(Y,{name:"JPEG",color:"rgb(255,123,0)",onClick:function(){w(!0),K(null)}}),a.createElement(Y,{isSelected:!_,name:"Conceptual View",color:"rgb(0,50,100)",marginTop:"75px",onClick:function(){_&&(e.app.setConceptualModel(),$(!1))}}),a.createElement(Y,{isSelected:_,name:"Logical View",color:"rgb(0,50,100)",onClick:function(){_||(e.app.setLogicModel(),$(!0))}}),a.createElement(Y,{isDisabled:_,isSelected:W,name:"UML",color:"rgb(152,50,100)",marginTop:"75px",onClick:function(){_||W||(ee(),J(!0))}}),a.createElement(Y,{isDisabled:_,isSelected:!W,name:"Chen",color:"rgb(152,50,100)",onClick:function(){!_&&W&&(ee(),J(!1))}}),a.createElement(Y,{name:"Create DB Code",color:"rgb(255,0,0)",marginTop:"60px",onClick:function(){i(!0),K(null)}})),a.createElement(Le.Layer,{id:"diagram-layer",onDrop:function(t){var n,r=JSON.parse(t.dataTransfer.getData("storm-diagram-node")),a=e.app.getDiagramEngine().getModel().getNodes().map((function(e){return e.getOptions().name.toLowerCase().trim()})),i=u.keys(e.app.getDiagramEngine().getModel().getNodes()).length,o=a.includes("Entity".concat(i+1).toLowerCase().trim())?"Entity".concat(i+1,"_").concat(i+1):"Entity".concat(i+1);"default"===r.type?(n=new A(!1,o,"rgb(0,192,255)"),_?(n.addPort(new G("Id",!1,!0,!1,!1,!0,!0,!0,"INT")),n.addPort(new G("",!0,!1,!1,!1,!1,!1,!1,"INT")),n.addPort(new G("1",!0,!1,!1,!1,!1,!1,!1,"INT"))):(n.addPort(new q(_,"Id",!1,!0,!1,!1,!0,!0,!0,"INT")),n.addPort(new q(_,"",!0,!1,!1,!1,!1,!1,!1,"INT")),n.addPort(new q(_,"1",!0,!1,!1,!1,!1,!1,!1,"INT")))):n=new A(!0,"Label ","rgb(192,255,0)");var l=e.app.getDiagramEngine().getRelativeMousePoint(t);n.setPosition(l),e.app.getDiagramEngine().getModel().addNode(n),Z()},onDragOver:function(e){e.preventDefault()},onClick:function(t){(t.preventDefault(),t.ctrlKey&&e.app.getDiagramEngine().getModel().getSelectedEntities()[0]instanceof k.PointModel)&&e.app.getDiagramEngine().getModel().getSelectedEntities()[0].remove();te()},onDoubleClick:function(t){if(t.preventDefault(),e.app.getDiagramEngine().getModel().getSelectedEntities()[0]instanceof k.PointModel)B(e.app.getDiagramEngine().getModel().getSelectedEntities()[0].getParent()),d(!0),K(null);else if(e.app.getDiagramEngine().getModel().getSelectedEntities()[0]instanceof A){te();var n=e.app.getDiagramEngine().getModel().getSelectedEntities()[0];K(n)}}},a.createElement(x,null,a.createElement(P.CanvasWidget,{className:"srd-demo-canvas",engine:e.app.getDiagramEngine()}))),null!=F?a.createElement(ce,{isLogic:_,selectedItem:F,diagramEngine:e.app.getDiagramEngine()}):null,a.createElement(ye,{isUml:W,isLogic:_,update:te,isOpen:r,serializeDiagram:e.app.getDiagramEngine().getModel().serialize()}),a.createElement(Ee,{update:te,isOpen:f,app:e.app,setIsUml:J,setIsLogic:$}),a.createElement(Pe,{isLogic:_,update:te,diagramModel:e.app.getDiagramEngine().getModel(),isOpen:O,isUml:W}),a.createElement(xe,{update:te,diagramModel:e.app.getActiveDiagram(),isOpen:I}),a.createElement(Ce,{diagramEngine:e.app.getDiagramEngine(),update:te,isOpen:c,link:z,isLogic:_})))},Re=function(e){var t=e.point,n=e.previousPoint,r=i.a.useState(!1),a=Object(s.a)(r,2)[1],o=90+180*Math.atan2(t.getPosition().y-n.getPosition().y,t.getPosition().x-n.getPosition().x)/Math.PI;return i.a.createElement("g",{className:"arrow",transform:"translate("+t.getPosition().x+", "+t.getPosition().y+")"},i.a.createElement("g",{style:{transform:"rotate("+o+"deg)"}},i.a.createElement("g",{transform:"translate(0, -3)"},i.a.createElement("polygon",{points:"0,10 8,30 -8,30",fill:e.color,onMouseLeave:function(){return a(!1)},onMouseEnter:function(){return a(!0)},"data-id":t.getID(),"data-linkid":t.getLink().getID()}))))},Ue=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"generateArrow",value:function(e,t){return i.a.createElement(Re,{key:e.getID(),point:e,previousPoint:t,colorSelected:this.props.link.getOptions().selectedColor,color:this.props.link.getOptions().color})}},{key:"render",value:function(){var e=this,t=this.props.link.getPoints(),n=[];this.refPaths=[];for(var r=function(r){n.push(e.generateLink(k.LinkWidget.generateLinePath(t[r],t[r+1]),{"data-linkid":e.props.link.getID(),"data-point":r,onMouseDown:function(t){e.addPointToLink(t,r+1)}},r))},a=0;a<t.length-1;a++)r(a);for(var o=0;o<t.length-1;o++)n.push(this.generateArrow(t[o],t[o+1]));return this.props.link.getTargetPort(),n.push(this.generatePoint(t[t.length-1])),i.a.createElement("g",{"data-default-link-test":this.props.link.getOptions().testName},n)}}]),n}(k.DefaultLinkWidget),qe=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.call(this,"arrow")}return Object(p.a)(n,[{key:"generateModel",value:function(){return new w}},{key:"generateReactWidget",value:function(e){return i.a.createElement(Ue,{link:e.model,diagramEngine:this.engine})}}]),n}(k.DefaultLinkFactory);function Ge(){var e=Object(c.a)(["\n   margin-right: 5px;\n  "]);return Ge=function(){return e},e}function ze(){var e=Object(c.a)(["\n    display: none;\n  "]);return ze=function(){return e},e}function Be(){var e=Object(c.a)(["\n    display: inline-block;\n    margin-right: 5px;\n  "]);return Be=function(){return e},e}function Ve(){var e=Object(c.a)(["\n    display: flex;\n    justify-content: flex-end;\n  "]);return Ve=function(){return e},e}function He(){var e=Object(c.a)(["\n    padding:  3px 5px;\n    color: black;\n    font-weight: 800;\n  "]);return He=function(){return e},e}function We(){var e=Object(c.a)(["\n  width: 15px;\n  height: 15px;\n  background: rgba(255, 255, 255, 0.1);\n\n  &:hover {\n    background: rgb(192, 255, 0);\n  }\n  "]);return We=function(){return e},e}function Ye(){var e=Object(c.a)(["\n  flex-grow: 1;\n"]);return Ye=function(){return e},e}function Je(){var e=Object(c.a)(["\n  display: flex;\n  margin-top: 1px;\n  align-items: center;\n"]);return Je=function(){return e},e}!function(e){e.PortLabel=m.default.div(Je()),e.Label=m.default.div(Ye()),e.Port=m.default.div(We()),e.PrimaryKeyIcon=m.default.span(He()),e.PortContainer=m.default.div(Ve());var t=e.PortItem=m.default.div(Be());e.HiddenPort=Object(m.default)(t)(ze()),e.NamedPort=Object(m.default)(t)(Ge())}(Fe||(Fe={}));var Xe,Qe=function(e){var t=e.port,n=e.engine;t.isNamePort||t.setLocked();var r=a.createElement(M.PortWidget,{engine:n,port:t},a.createElement(Fe.Port,null)),i=a.createElement(Fe.PortLabel,null,a.createElement("div",null,t.label," ",t.propertyType)),o=t.isPrimaryKey&&a.createElement(Fe.PrimaryKeyIcon,{className:"mi mi-Permissions"});return t.isNamePort?a.createElement(Fe.NamedPort,null,r):a.createElement(Fe.PortContainer,null,a.createElement(Fe.PortItem,null,o),a.createElement(Fe.PortItem,null,i),a.createElement(Fe.HiddenPort,null,r))};function _e(){var e=Object(c.a)(["\n    margin-top: 5px\n  "]);return _e=function(){return e},e}function $e(){var e=Object(c.a)(["\n    margin-top: 5px;\n    margin-left: 5px\n  "]);return $e=function(){return e},e}function Ze(){var e=Object(c.a)(["\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n\n    &:first-of-type {\n      margin-right: 10px;\n    }\n\n    &:only-child {\n      margin-right: 0px;\n    }\n  "]);return Ze=function(){return e},e}function et(){var e=Object(c.a)(["\n    display: flex;\n    background-image: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2));\n  "]);return et=function(){return e},e}function tt(){var e=Object(c.a)(["\n    flex-grow: 1;\n    padding: 5px 5px;\n  "]);return tt=function(){return e},e}function nt(){var e=Object(c.a)(["\n    background: rgba(0, 0, 0, 0.3);\n    display: flex;\n    white-space: nowrap;\n\n    justify-items: center;\n  "]);return nt=function(){return e},e}function rt(){var e=Object(c.a)(["\n    background-color: ",";\n    border-radius: 5px;\n    font-family: sans-serif;\n    color: white;\n    border: solid 2px black;\n    overflow: visible;\n    font-size: 11px;\n    border: solid 2px ",";\n  "]);return rt=function(){return e},e}!function(e){e.Node=m.default.div(rt(),(function(e){return e.background}),(function(e){return e.selected?"rgb(0,192,255)":"black"})),e.Title=m.default.div(nt()),e.TitleName=m.default.div(tt()),e.Ports=m.default.div(et()),e.PortsContainer=m.default.div(Ze()),e.NamedPortLeft=m.default.div($e()),e.NamedPortRight=m.default.div(_e())}(Xe||(Xe={}));var at,it=function(e){var t=function(t){return a.createElement(Qe,{engine:e.engine,port:t,key:t.options.id})},n=e.node,r=n.getPorts(),i=u.map(r,t),o=i.filter((function(e){return e.props.port.isNamePort})),l=i.filter((function(e){return!e.props.port.isNamePort}));return a.createElement(Xe.Node,{"data-default-node-name":n.getOptions().name,selected:n.isSelected(),background:n.getOptions().color},a.createElement(Xe.Title,null,0!==o.length&&a.createElement(Xe.NamedPortLeft,null,t(o[1].props.port)),a.createElement(Xe.TitleName,null,n.getOptions().name),0!==o.length&&a.createElement(Xe.NamedPortRight,null,t(o[0].props.port))),a.createElement(Xe.Ports,null,a.createElement(Xe.PortsContainer,null,l)))},ot=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.call(this,"default")}return Object(p.a)(n,[{key:"generateReactWidget",value:function(e){return a.createElement(it,{engine:this.engine,node:e.model})}},{key:"generateModel",value:function(e){return new A(!1,"Entity","rgb(0,192,255)")}}]),n}(P.AbstractReactFactory);function lt(){var e=Object(c.a)(["\n  background: rgba(0, 0, 0, 0.8);\n  border-radius: 5px;\n  color: white;\n  font-size: 12px;\n  padding: 4px 8px;\n  font-family: sans-serif;\n  user-select: none;\n"]);return lt=function(){return e},e}!function(e){e.Label=m.default.div(lt())}(at||(at={}));var ct=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return a.createElement(at.Label,null,this.props.model.getOptions().label)}}]),n}(a.Component),st=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.call(this,"default")}return Object(p.a)(n,[{key:"generateReactWidget",value:function(e){return a.createElement(ct,{model:e.model})}},{key:"generateModel",value:function(e){return new S}}]),n}(P.AbstractReactFactory),ut=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.call(this,"default")}return Object(p.a)(n,[{key:"generateModel",value:function(){return new q(!1,"port",!0,!1)}}]),n}(P.AbstractModelFactory);function dt(){var e=Object(c.a)(["\n  pointer-events: all;\n"]);return dt=function(){return e},e}var pt=m.default.circle(dt()),gt=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).state={selected:!1},r}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=this.props.point;return a.createElement("g",null,a.createElement("circle",{cx:t.getPosition().x,cy:t.getPosition().y,r:5,fill:this.state.selected||this.props.point.isSelected()?this.props.colorSelected:this.props.color}),a.createElement(pt,{className:"point",onMouseLeave:function(){e.setState({selected:!1})},onMouseEnter:function(){e.setState({selected:!0})},"data-id":t.getID(),"data-linkid":t.getLink().getID(),cx:t.getPosition().x,cy:t.getPosition().y,r:15,opacity:0}))}}]),n}(a.Component),ft=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=a.cloneElement(this.props.factory.generateLinkSegment(this.props.link,this.props.selected||this.props.link.isSelected(),this.props.path),{ref:this.props.forwardRef}),n=a.cloneElement(t,Object(I.a)(Object(I.a)({strokeLinecap:"round",onMouseLeave:function(){e.props.onSelection(!1)},onMouseEnter:function(){e.props.onSelection(!0)}},this.props.extras),{},{ref:null,"data-linkid":this.props.link.getID(),strokeOpacity:this.props.selected?.1:0,strokeWidth:20,fill:"none",onContextMenu:function(t){e.props.link.isLocked()||(t&&t.preventDefault(),e.props.link.remove())}}));return a.createElement("g",null,t,n)}}]),n}(a.Component),mt=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).refPaths=[],r.state={selected:!1},r}return Object(p.a)(n,[{key:"componentDidUpdate",value:function(){this.props.link.setRenderedPaths(this.refPaths.map((function(e){return e.current})))}},{key:"componentDidMount",value:function(){this.props.link.setRenderedPaths(this.refPaths.map((function(e){return e.current})))}},{key:"componentWillUnmount",value:function(){this.props.link.setRenderedPaths([])}},{key:"addPointToLink",value:function(e,t){var n=this;if(!e.shiftKey&&!this.props.link.isLocked()&&this.props.link.getPoints().length-1<=this.props.diagramEngine.getMaxNumberPointsPerLink()){var r=new M.PointModel({link:this.props.link,position:this.props.diagramEngine.getRelativeMousePoint(e)});this.props.link.addPoint(r,t),e.persist(),e.stopPropagation(),this.forceUpdate((function(){n.props.diagramEngine.getActionEventBus().fireAction({event:e,model:r})}))}}},{key:"generatePoint",value:function(e){return a.createElement(gt,{key:e.getID(),point:e,colorSelected:this.props.link.getOptions().selectedColor,color:this.props.link.getOptions().color})}},{key:"generateLink",value:function(e,t,n){var r=this,i=a.createRef();return this.refPaths.push(i),a.createElement(ft,{key:"link-".concat(n),path:e,selected:this.state.selected,diagramEngine:this.props.diagramEngine,factory:this.props.diagramEngine.getFactoryForLink(this.props.link),link:this.props.link,forwardRef:i,onSelection:function(e){r.setState({selected:e})},extras:t})}},{key:"render",value:function(){var e=this,t=this.props.link.getPoints(),n=[];if(this.refPaths=[],2===t.length)n.push(this.generateLink(this.props.link.getSVGPath(),{onMouseDown:function(t){e.addPointToLink(t,1)}},"0")),null==this.props.link.getTargetPort()&&n.push(this.generatePoint(t[1]));else{for(var r=function(r){n.push(e.generateLink(M.LinkWidget.generateLinePath(t[r],t[r+1]),{"data-linkid":e.props.link.getID(),"data-point":r,onMouseDown:function(t){e.addPointToLink(t,r+1)}},r))},i=0;i<t.length-1;i++)r(i);for(var o=1;o<t.length-1;o++)n.push(this.generatePoint(t[o]));null==this.props.link.getTargetPort()&&n.push(this.generatePoint(t[t.length-1]))}return a.createElement("g",{"data-default-link-test":this.props.link.getOptions().testName},n)}}]),n}(a.Component);function bt(){var e=Object(c.a)(["\n  ",";\n  fill: none;\n  pointer-events: all;\n"]);return bt=function(){return e},e}function ht(){var e=Object(c.a)(["\n  stroke-dasharray: 10, 2;\n  animation: "," 1s linear infinite;\n"]);return ht=function(){return e},e}function vt(){var e=Object(c.a)(["\n\t\tfrom {\n\t\t\tstroke-dashoffset: 24;\n\t\t}\n\t\tto {\n\t\t\tstroke-dashoffset: 0;\n\t\t}\n\t"]);return vt=function(){return e},e}var Ot,yt=Object(z.keyframes)(vt()),kt=Object(z.css)(ht(),yt),Et=m.default.path(bt(),(function(e){return e.selected&&kt})),Pt=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return Object(d.a)(this,n),t.call(this,e)}return Object(p.a)(n,[{key:"generateReactWidget",value:function(e){return a.createElement(mt,{link:e.model,diagramEngine:this.engine})}},{key:"generateModel",value:function(e){return new F}},{key:"generateLinkSegment",value:function(e,t,n){return a.createElement(Et,{selected:t,stroke:t?e.getOptions().selectedColor:e.getOptions().color,strokeWidth:e.getOptions().width,d:n})}}]),n}(P.AbstractReactFactory);function jt(){var e=Object(c.a)(["\n  flex-grow: 1;\n  padding: 5px 5px;\n"]);return jt=function(){return e},e}function Nt(){var e=Object(c.a)(["\n  background: rgba(0, 0, 0, 0.3);\n  display: flex;\n  white-space: nowrap;\n  justify-items: center;\n"]);return Nt=function(){return e},e}function xt(){var e=Object(c.a)(["\n  background-color: ",";\n  border-radius: 5px;\n  font-family: sans-serif;\n  color: white;\n  border: solid 2px black;\n  overflow: visible;\n  font-size: 11px;\n  border: solid 2px ",";\n"]);return xt=function(){return e},e}!function(e){e.Node=m.default.div(xt(),(function(e){return e.background}),(function(e){return e.selected?"rgb(0,192,255)":"black"})),e.Title=m.default.div(Nt()),e.TitleName=m.default.div(jt())}(Ot||(Ot={}));var It=function(e){var t=e.node;return a.createElement(Ot.Node,{"data-default-node-name":t.getOptions().name,selected:t.isSelected(),background:t.getOptions().color},a.createElement(Ot.Title,null,a.createElement(Ot.TitleName,null,t.getOptions().name)))},wt=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.call(this,"label")}return Object(p.a)(n,[{key:"generateReactWidget",value:function(e){return a.createElement(It,{engine:this.engine,node:e.model})}},{key:"generateModel",value:function(e){return new A(!0,"Label","rgb(192,255,0)")}}]),n}(P.AbstractReactFactory),Lt=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.call(this,"arrow")}return Object(p.a)(n,[{key:"generateModel",value:function(){return new G("port",!0,!1)}}]),n}(P.AbstractModelFactory),Ct=function(){function e(){Object(d.a)(this,e),this.diagramEngine=E()(),this.diagramEngine.getNodeFactories().registerFactory(new wt),this.diagramEngine.getNodeFactories().registerFactory(new ot),this.diagramEngine.getLabelFactories().registerFactory(new st),this.diagramEngine.getPortFactories().registerFactory(new ut),this.diagramEngine.getPortFactories().registerFactory(new Lt),this.diagramEngine.getLinkFactories().registerFactory(new qe),this.diagramEngine.getLinkFactories().registerFactory(new Pt);var t=this.diagramEngine.getStateMachine().getCurrentState();t instanceof k.DefaultDiagramState&&(t.dragNewLink.config.allowLooseLinks=!1),this.newModel()}return Object(p.a)(e,[{key:"newModel",value:function(){this.activeModel=new k.DiagramModel,this.logicModel=new k.DiagramModel,this.diagramEngine.setModel(this.activeModel)}},{key:"getActiveDiagram",value:function(){return this.activeModel}},{key:"getDiagramEngine",value:function(){return this.diagramEngine}},{key:"setLogicModel",value:function(){var e=this,t=this.activeModel.getNodes();Object.keys(t).forEach((function(n){var r=t[n].clone(),a=t[n].getPorts();Object.keys(a).forEach((function(e){var t=a[e],n=new G(t.getOptions().name,t.isNamePort,t.isPrimaryKey,t.isForeignKey,t.isPartialKey,t.isNotNull,t.isAutoincremented,t.isUnique,t.propertyType);r.addPort(n)})),e.logicModel.addNode(r)}));var n=this.activeModel.getLinks();Object.keys(n).forEach((function(t){var r=e.logicModel.getNodes(),a=n[t].sourcePort.getParent(),i=r.filter((function(e){return e.getOptions().name===a.getOptions().name}))[0].getOptions().id,o=n[t].targetPort.getParent(),l=r.filter((function(e){return e.getOptions().name===o.getOptions().name}))[0].getOptions().id,c=n[t].labels[0].getOptions().label,s=n[t].labels[2].getOptions().label;if(c.includes("N")&&s.includes("N")){var u=n[t].properties.clone();u.getOptions().name=n[t].labels[1].getOptions().label,u.setPosition(a.getPosition().x+150,a.getPosition().y-100),u.addPort(new G("Id",!1,!0,!1,!1,!0,!0,!0,"INT")),u.addPort(new G("",!0,!1,!1,!1,!1,!1,!1,"INT")),u.addPort(new G("1",!0,!1,!1,!1,!1,!1,!1,"INT")),u.addPort(new G(a.getOptions().name+"Id",!1,!1,!1,!0,!0,!1,!1,"INT",R.UID(),i)),u.addPort(new G(o.getOptions().name+"Id",!1,!1,!1,!0,!0,!1,!1,"INT",R.UID(),l)),e.logicModel.addNode(u);var d=r.filter((function(e){return e.getOptions().id===i}))[0].getPorts()[1],p=u.getPorts()[""],g=new w({type:"arrow"});g.setSourcePort(d),g.setTargetPort(p);var f=r.filter((function(e){return e.getOptions().id===l}))[0],m=u.getPorts()[1],b=f.getPorts()[""],h=new w({type:"arrow"});h.setSourcePort(b),h.setTargetPort(m),e.logicModel.addAll(g,h)}else if(c.includes("N")){var v=r.filter((function(e){return e.getOptions().id===i}))[0];v.addPort(new G(o.getOptions().name+"Id",!1,!1,!1,!0,!0,!1,!1,"INT",R.UID(),l));var O=r.filter((function(e){return e.getOptions().id===l}))[0],y=v.getPorts()[1],k=O.getPorts()[""],E=new w({type:"arrow"});E.setSourcePort(k),E.setTargetPort(y),e.logicModel.addLink(E)}else if(s.includes("N")){var P=r.filter((function(e){return e.getOptions().id===l}))[0];P.addPort(new G(a.getOptions().name+"Id",!1,!1,!1,!0,!0,!1,!1,"INT",R.UID(),i));var j=r.filter((function(e){return e.getOptions().id===i}))[0],N=P.getPorts()[""],x=j.getPorts()[1],I=new w({type:"arrow"});I.setSourcePort(x),I.setTargetPort(N),e.logicModel.addLink(I)}else{var L=r.filter((function(e){return e.getOptions().id===l}))[0];L.addPort(new G(a.getOptions().name+"Id",!1,!1,!1,!0,!0,!1,!1,"INT",R.UID(),i));var C=r.filter((function(e){return e.getOptions().id===i}))[0],M=L.getPorts()[""],T=C.getPorts()[1],S=new w({type:"arrow"});S.setSourcePort(T),S.setTargetPort(M),e.logicModel.addLink(S)}})),this.diagramEngine.setModel(this.logicModel)}},{key:"setConceptualModel",value:function(){this.logicModel=null,this.logicModel=new k.DiagramModel;var e=new k.DiagramModel,t=this.activeModel.getNodes();Object.keys(t).forEach((function(n){e.addNode(t[n])}));var n=this.activeModel.getLinks();Object.keys(n).forEach((function(t){e.addLink(n[t])})),this.activeModel=e,this.diagramEngine.setModel(this.activeModel)}},{key:"loadConceptualModel",value:function(e){this.activeModel=e,this.diagramEngine.setModel(this.activeModel)}},{key:"loadLogicModel",value:function(e){this.logicModel=e,this.diagramEngine.setModel(this.logicModel)}}]),e}(),Mt=function(){var e=new Ct;return a.createElement("div",{className:"content"},a.createElement(Ke,{app:e}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(Mt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[271,1,2]]]);
//# sourceMappingURL=main.2845266d.chunk.js.map